targetted_decisions = {

	#Life Focus
	decision_break_free = {
		only_playable = yes
		is_high_prio = yes
		filter = sub_realm
		ai_target_filter = dynasty
		from_potential = {
			is_playable = yes
			has_focus = focus_intrigue
			nor = {
				trait = incapable
				trait = incapacitated
				trait = studying_magic
				has_any_opinion_modifier = opinion_breaking_out
				has_any_opinion_modifier = opinion_spying_on
			}
		}
		potential = {
			NOT = {
				character = FROM
			}
			OR = {
				AND = {
					prisoner = yes
					liege = {
						character = FROM
					}
					host = {
						NOT = {
							character = FROM
						}
					}
				}
				AND = {
					is_female = yes
					is_consort = yes
					prisoner = no
					consort = {
						NOT = {
							character = FROM
						}
						reverse_has_opinion_modifier = {
							who = ROOT
							modifier = opinion_forced_consort
						}
					}
					is_close_relative = FROM
				}
			}
		}
		allow = {
			nor = {
				trait = incapable
				has_character_modifier = failed_escape
			}
		}
		effect = {
			log = "work decision decision_break_free for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					opinion = {
						who = ROOT
						modifier = opinion_breaking_out
						months = 12000
					}
					if = {
						limit = {
							ROOT = {
								prisoner = yes
							}
						}
						character_event = {
							id = WoL.2200 days = 1
						}
					}
					if = {
						limit = {
							ROOT = {
								prisoner = no
							}
						}
						character_event = {
							id = WoL.2201 days = 1
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1 		# 1 = 100% chance every month (for each allowed target!)
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0
				is_rival = FROM
			}
			modifier = {
				factor = 0
				trait = decadent
				OR = {
					religion = ormazd
					religion = kitabid
				}
			}
		}
	}
	break_up_with_lover = {
		ai_target_filter = court
		from_potential = {
			ai = no
			has_dlc = "Way of Life"
			has_lover = yes
		}
		potential = {
			is_lover = FROM
			nor = {
				trait = pet_consort
				any_spouse = {
					character = FROM
				}
				any_consort = {
					character = FROM
				}
			}
		}
		allow = {
			always = yes
		}
		effect = {
			log = "work decision break_up_with_lover for [Root.GetBestName]"
			FROM = {
				character_event = {
					id = WoL.1109
					tooltip = EVTTOOLTIP64046
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	seduce_decision = {
		only_playable = yes
		ai_target_filter = realm
		from_potential = {
			has_focus = focus_seduction
			not = {
				has_any_opinion_modifier = opinion_seducing
			}
			OR = {
				ai = no
				AND = {
					OR = {
						is_female = no
						AND = {
							trait = homosexual
							OR = {
								is_married = yes
								is_consort = yes
							}
						}
						trait = lustful
						any_spouse = {
							trait = homosexual
						}
						any_consort = {
							trait = homosexual
						}
					}
					is_ill = no
					nor = {
						trait = eunuch
						trait = infirm
						trait = inbred
						trait = imbecile
						trait = chaste
						trait = shy
					}
				}
			}
		}
		potential = {
			# should be here couz in from_potential root not exists
			from = {
				wh_this_and_root_can_love_trigger = yes
			}
			nor = {
				is_former_lover = FROM
				is_consort = FROM
				any_spouse = {
					character = FROM
				}
				is_child_of = FROM
				mother_even_if_dead = {
					is_child_of = FROM
				}
				father_even_if_dead = {
					is_child_of = FROM
				}
			}
			FROM = {
				nor = {
					is_child_of = ROOT
					mother_even_if_dead = {
						is_child_of = ROOT
					}
					father_even_if_dead = {
						is_child_of = ROOT
					}
				}
			}
		}
		allow = {
			from = {
				custom_tooltip = {
					text = IS_NOT_INCAPACITATED
					is_incapacitated_trigger = no
				}
			}
			custom_tooltip = {
				text = IS_NOT_INCAPACITATED
				is_incapacitated_trigger = no
			}
			is_within_diplo_range = FROM
			NOR = {
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_seduced_refused
				}
				has_character_modifier = dismissed_proposal
				trait = celibate
				FROM = {
					trait = celibate
				}
			}
			OR = {
				religion_group = FROM
				AND = {
					#non-AI Humans can always try to seduce other humans
					FROM = {
						ai = no
						trait = creature_human
					}
					ROOT = {
						trait = creature_human
					}
				}
				AND = {
					#BR NOTE: lahmians should be able to seduce outside their religion group, it s what they do after all
					FROM = {
						trait = vampire_lahmian_visible
					}
					ROOT = {
						or = {
							trait = creature_human
							trait = creature_elf
						}
					}
				}
				AND = {
					#Option B chosen at startup allows for more seductions across some racial lines
					has_global_flag = optionB
					custom_tooltip = {
						text = Chose_option_B_a_startup
					}
					FROM = {
						ai = no
					}
					OR = {
						AND = {
							#non-AI male Dwarves can seduce human women
							ROOT = {
								trait = creature_human
								is_female = yes
							}
							FROM = {
								trait = creature_dwarf
								is_female = no
							}
						}
						AND = {
							#non-AI Elves can seduce humans
							ROOT = {
								trait = creature_human
							}
							FROM = {
								trait = creature_elf
							}
						}
						AND = {
							#non-AI humans can seduce elves
							ROOT = {
								trait = creature_elf
							}
							FROM = {
								trait =  creature_human
							}
						}
					}
				}
			}
		}
		effect = {
			log = "work decision seduce_decision for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					opinion = {
						who = ROOT
						modifier = opinion_seducing
						years = 1000
					}
					if = {
						limit = {
							is_close_relative = ROOT
							nor = {
								religion = ormazd
								religion = kitabid
							}
						}
						character_event = {
							id = WoL.102 days = 1
						} # Warning - Incest scandal risk
						break = yes
					}
					if = {
						limit = {
							not = {
								trait = transgender
							}
							same_sex = ROOT
						}
						character_event = {
							id = WoL.104 days = 1
						} # Warning - Homosexual scandal risk
						break = yes
					}
					if = {
						limit = {
							OR = {
								religion = sigmarite
								religion = ulrican
								religion = myrmidian
								religion = shallyan
							}
							OR = {
								is_priest = yes
								trait = monk
								trait = nun
								ROOT = {
									or = {
										is_priest = yes
										trait = monk
										trait = nun
									}
								}
							}
						}
						character_event = {
							id = WoL.103 days = 1
						} # Warning - Priest scandal risk
						break = yes
					}
					if = {
						limit = {
							OR = {
								AND = {
									OR = {
										trait = creature_dwarf
										trait = creature_chaos_dwarf
									}
									age_diff = {
										who = ROOT
										years = 100
									}
								}
								AND = {
									trait = creature_elf
									age_diff = {
										who = ROOT
										years = 400
									}
								}
								AND = {
									NOR = {
										trait = creature_elf
										trait = creature_dwarf
										trait = creature_chaos_dwarf
									}
									age_diff = {
										who = ROOT
										years = 25
									}
								}
							}
						}
						character_event = {
							id = WoL.101 days = 1
						} # Warning - Age scandal risk
						break = yes
					}
					character_event = {
						id = WoL.100 days = 1
					} # No warning - Let the chase begin!
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1 		# 1 = 100% chance every month (for each allowed target!)
			modifier = {
				factor = 0.05
			}
			modifier = {
				factor = 0
				is_female = yes
				is_living_human_trigger = yes
				age = 40
			}
			modifier = {
				factor = 0
				is_female = yes
				has_character_modifier = lustful_affair_timer
			}
			modifier = {
				factor = 0.5
				FROM = {
					is_female = no
					num_of_children = 3
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_female = no
					num_of_children = 6
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					is_female = no
					num_of_children = 8
				}
			}
			modifier = {
				factor = 0
				num_of_lovers = 1
				nor = {
					trait = lustful
					trait = hedonist
					trait = seducer
					trait = seductress
					has_focus = focus_seduction
				}
			}
			modifier = {
				factor = 0.25
				ai = no
			}
			modifier = {
				factor = 0.1
				is_ruler = no
				OR = {
					any_spouse = {
						ai = no
					}
					any_consort = {
						ai = no
					}
				}
			}
			modifier = {
				factor = 10
				FROM = {
					OR = {
						trait = lustful
						trait = hedonist
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					trait = chaste
					trait = ugly
					trait = dwarf
					trait = inbred
					trait = imbecile
					trait = clubfooted
					trait = harelip
					trait = hunchback
					trait = eunuch
					is_ill = yes
					is_pregnant = yes
				}
			}
			modifier = {
				factor = 0.25
				is_close_relative = FROM
				FROM = {
					nor = {
						trait = lustful
						trait = arbitrary
						trait = possessed
						trait = lunatic_3
						trait = lunatic_2
					}
				}
			}
			modifier = {
				factor = 2
				trait = gregarious
			}
			modifier = {
				factor = 5 # A more interesting quarry
				OR = {
					is_playable = yes
					is_married = yes
					father_even_if_dead = {
						always = yes
					}
					mother_even_if_dead = {
						always = yes
					}
				}
			}
			modifier = {
				factor = 10
				trait = fair
			}
			modifier = {
				factor = 0
				age = 1200
				trait = creature_elf
			}
			modifier = {
				factor = 0
				age = 150
				trait = creature_dwarf
			}
			modifier = {
				factor = 0.01
				trait = creature_dwarf
			}
			modifier = {
				factor = 0.01
				nor = {
					trait = creature_human
					trait = creature_amazon
					trait = lustful
				}		#Only lustful non-humans will get on with each other
			}
		}
	}
	stop_seduce_decision = {
		filter = self
		ai_target_filter = self
		potential = {
			ai = no
			is_marriage_adult = yes
			has_focus = focus_seduction
			OR = {
				has_character_flag = seduction_confirmed
				has_any_opinion_modifier = opinion_seducing
			}
		}
		effect = {
			log = "work decision stop_seduce_decision for [Root.GetBestName]"
			random_opinion_modifier_target = {
				limit = {
					ROOT = {
						has_opinion_modifier = {
							who = PREV
							modifier = opinion_seducing
						}
					}
				}
				save_event_target_as = target_seduced
				ROOT = {
					character_event = {
						id = WoL.118 tooltip = stop_seduce_decision_tt
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	stop_seduce_decision_target = {
		ai_target_filter = realm
		from_potential = {
			ai = no
			is_marriage_adult = yes
			has_focus = focus_seduction
			OR = {
				has_character_flag = seduction_confirmed
				has_any_opinion_modifier = opinion_seducing
			}
		}
		potential = {
			FROM = {
				has_opinion_modifier = {
					who = ROOT
					modifier = opinion_seducing
				}
			}
		}
		effect = {
			log = "work decision stop_seduce_decision_target for [Root.GetBestName]"
			save_event_target_as = target_seduced
			hidden_tooltip = {
				FROM = {
					character_event = {
						id = WoL.118
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	decision_spy_on = {
		only_playable = yes
		ai_target_filter = realm
		from_potential = {
			is_playable = yes
			has_focus = focus_intrigue
			NOT = {
				trait = incapable
			}
			prisoner = no
			nor = {
				has_any_opinion_modifier = opinion_spying_on
				has_any_opinion_modifier = opinion_breaking_out
			}
		}
		potential = {
			NOT = {
				trait = incapable
			}
			same_realm = FROM
			NOT = {
				character = FROM
			}
		}
		allow = {
			prisoner = no
			is_adult = yes
			is_within_diplo_range = FROM
		}
		effect = {
			log = "work decision decision_spy_on for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					any_opinion_modifier_target = {
						limit = {
							reverse_has_opinion_modifier = {
								who = PREV
								modifier = opinion_spying_on
							}
						}
						reverse_remove_opinion = {
							who = PREV
							modifier = opinion_spying_on
						}
					}
					opinion = {
						who = ROOT
						modifier = opinion_spying_on
						months = 12000
					}
					character_event = {
						id = WoL.2050 days = 1
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1 		# 1 = 100% chance every month (for each allowed target!)
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0
				nor = {
					is_rival = FROM
					is_married = FROM
					AND = {
						OR = {
							is_ruler = yes
							has_plot = yes
						}
						liege = {
							character = FROM
						}
					}
					AND = {
						is_ruler = yes
						same_liege = FROM
					}
				}
			}
			modifier = {
				factor = 2.0
				has_plot = yes
			}
			modifier = {
				factor = 5.0
				FROM = {
					trait = paranoid
				}
			}
			modifier = {
				factor = 10.0
				in_faction = yes
				liege = {
					character = FROM
				}
			}
			modifier = {
				factor = 10.0
				FROM = {
					leads_faction = yes
				}
				in_faction = no
				same_liege = FROM
			}
		}
	}
	stop_spy_on_decision = {
		filter = self
		ai_target_filter = self
		potential = {
			ai = no
			has_focus = focus_intrigue
			has_any_opinion_modifier = opinion_spying_on
		}
		effect = {
			log = "work decision stop_spy_on_decision for [Root.GetBestName]"
			random_opinion_modifier_target = {
				limit = {
					ROOT = {
						has_opinion_modifier = {
							who = PREV
							modifier = opinion_spying_on
						}
					}
				}
				save_event_target_as = target_spy_on
				ROOT = {
					character_event = {
						id = WoL.2069 tooltip = stop_spy_on_decision_tt
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	stop_spy_on_decision_target = {
		ai_target_filter = realm
		from_potential = {
			ai = no
			has_focus = focus_intrigue
			has_any_opinion_modifier = opinion_spying_on
		}
		potential = {
			FROM = {
				has_opinion_modifier = {
					who = ROOT
					modifier = opinion_spying_on
				}
			}
		}
		effect = {
			log = "work decision stop_spy_on_decision_target for [Root.GetBestName]"
			save_event_target_as = target_spy_on
			hidden_tooltip = {
				FROM = {
					character_event = {
						id = WoL.2069
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	invite_to_party = {
		only_playable = yes
		is_high_prio = yes
		ai_target_filter = court
		from_potential = {
			is_playable = yes
			is_adult = yes
			has_focus = focus_carousing
			prisoner = no
			nor = {
				trait = incapable
				is_inaccessible_trigger = yes
				had_character_flag = {
					flag = inviting_guests_to_party_timer days = 90
				}
			}
			NOT = {
				has_character_flag = party_host
			}
		}
		potential = {
			is_adult = yes
			prisoner = no
			nor = {
				is_inaccessible_trigger = yes
				trait = incapable
			}
			is_within_diplo_range = FROM
			nor = {
				has_character_flag = carousing_invite
				character = FROM
			}
		}
		allow = {
			same_realm = FROM   # Can only invite characters in same realm!
			nor = {
				has_character_modifier = organizing_party
				has_character_modifier = party_carousing
			}
			war = no
			NOT = {
				reverse_has_opinion_modifier = {
					modifier = opinion_declined_party
					who = FROM
				}
			}
			ROOT = {
				custom_tooltip = {
					text = tooltip_not_busy
					NOT = {
						has_character_flag = do_not_disturb
					}
				}
			}
			FROM = {
				war = no
				NOT = {
					has_character_modifier = party_timer
				}
				OR = {
					nor = {
						religion = ormazd
						religion = kitabid
					}
					trait = decadent
					trait = hedonist
					trait = drunkard
				}
			}
		}
		effect = {
			log = "work decision invite_to_party for [Root.GetBestName]"
			FROM = {
				if = {
					limit = {
						NOT = {
							has_character_modifier = organizing_party
						}
					}
					add_character_modifier = {
						modifier = organizing_party
						duration = 120
					}
					hidden_tooltip = {
						character_event = {
							id = WoL.4010 days = 120
						}
					} # Party to be held in four months
					set_character_flag = inviting_guests_to_party_timer
				}
				set_character_flag = do_not_disturb # NOTE
			}
			hidden_tooltip = {
				letter_event = {
					id = WoL.4000 days = 7
				} # Invitee receives event - any number of invitees possible
			}
			set_character_flag = carousing_invite
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				FROM = {
					has_character_modifier = organizing_party
				} # AI will only invite one person
			}
			modifier = {
				factor = 0
				OR = {
					trait = leper
					trait = has_bubonic_plague
					trait = has_typhoid_fever
					trait = has_typhus
					trait = has_measles
					trait = has_small_pox
				}
			}
		}
	}
	duel_decision = {
		only_playable = yes
		is_high_prio = yes
		#filter = rivals
		ai_target_filter = rivals
		from_potential = {
			NOT = {
				has_character_flag = duel
			}
			is_playable = yes
			is_adult = yes
			prisoner = no
			has_dlc = "Way of Life"
			has_focus = focus_war
			has_regent = no
			OR = {
				ai = no
				AND = {
					is_female = no
					nor = {
						trait = craven
						trait = content
					}
				}
			}
		}
		potential = {
			NOT = {
				has_character_flag = duel
			}
			is_adult = yes
			prisoner = no
			NOT = {
				character = FROM
			}
		}
		allow = {
			FROM = {
				### Valid reason for duel
				OR = {
					is_foe = ROOT
					custom_tooltip = {
						text = duel_tooltip_excommunicated
						trait = zealous
						ROOT = {
							trait = excommunicated
							religion = ROOT
						}
					}
					AND = {
						religion_group = ormazd_gods_group
						trait = zealous
						ROOT = {
							trait = decadent
						}
					}
				}
				NOT = {
					has_opinion_modifier = {
						who = ROOT modifier = opinion_fled_duel
					}
				}
			}
			custom_tooltip = {
				text = duel_tooltip_fought_before
				hidden_tooltip = {
					NOT = {
						has_opinion_modifier = {
							who = FROM modifier = opinion_fought_duel
						}
					}
					FROM = {
						NOT = {
							has_opinion_modifier = {
								who = ROOT modifier = opinion_fought_duel
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = duel_tooltip_busy
				hidden_tooltip = {
					FROM = {
						nor = {
							has_character_flag = do_not_disturb
							war = yes
						}
					}
					nor = {
						has_character_flag = do_not_disturb
						war = yes
					}
				}
			}
			custom_tooltip = {
				text = duel_tooltip_valid_target
				hidden_tooltip = {
					OR = {
						is_priest = no
						FROM = {
							religion_group = old_gods_group
						}
						FROM = {
							religion_group = chaos_gods_group
						}
						FROM = {
							religion_group = greenskin_gods_group
						}
					}
				}
			}
			custom_tooltip = {
				text = duel_tooltip_recent_duel
				hidden_tooltip = {
					FROM = {
						NOT = {
							has_character_modifier = recent_duel_timer
						}
					}
					NOT = {
						has_character_modifier = recent_duel_timer
					}
				}
			}
			ROOT = {
				custom_tooltip = {
					text = duel_tooltip_sickness
					hidden_tooltip = {
						NOT = {
							OR = {
								trait = incapable
								trait = infirm
								trait = has_aztec_disease
								trait = has_small_pox
								trait = has_measles
								trait = has_bubonic_plague
								trait = has_typhus
								trait = has_typhoid_fever
								trait = has_tuberculosis
								trait = leper
								trait = pneumonic
							}
						}
					}
				}
			}
			FROM = {
				custom_tooltip = {
					text = duel_tooltip_sickness
					hidden_tooltip = {
						NOT = {
							OR = {
								trait = incapable
								trait = infirm
								trait = has_aztec_disease
								trait = has_small_pox
								trait = has_measles
								trait = has_bubonic_plague
								trait = has_typhus
								trait = has_typhoid_fever
								trait = has_tuberculosis
								trait = leper
								trait = pneumonic
							}
						}
					}
				}
			}
			#is_within_diplo_range = ROOT # CPU HEAVY!
		}
		effect = {
			log = "work decision duel_decision for [Root.GetBestName]"
			if = {
				limit = {
					OR = {
						age = 50
						trait = wounded
						is_maimed_trigger = yes
					}
				}
				custom_tooltip = {
					text = dishonorable_duel_tooltip
					hidden_tooltip = {
						FROM = {
							any_realm_character = {
								limit = {
									NOT = {
										character = FROM
									}
									OR = {
										trait = honest
										trait = kind
										trait = just
									}
								}
								opinion = {
									modifier = opinion_dishonorable_duel
									who = FROM
									months = 36
								}
							}
						}
					}
				}
			}
			FROM = {
				if = {
					limit = {
						religion = shallyan
					}
					piety = -20
					custom_tooltip = {
						text = jain_ahimsa_tooltip
					}
				}
				add_character_modifier = {
					modifier = recent_duel_timer
					duration = 365
					hidden = yes
				}
			}
			save_event_target_as = duelist_a
			set_character_flag = duel
			hidden_tooltip = {
				FROM = {
					save_event_target_as = duelist_b
					set_character_flag = duel
					hidden_tooltip = {
						character_event = {
							id = duelengine.1
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_character_modifier = declined_prestige_duel_timer
			}
			modifier = {
				factor = 0.01
			}
		}
	}

	#Prisoner
	recruit_prisoner = {
		filter = court
		ai_target_filter = court
		from_potential = {
			ai = no
			has_dlc = "Reapers"
		}
		potential = {
			prisoner = yes
			is_ruler = no
			is_adult = yes
			is_heir = no
			is_married = no
			NOT = {
				trait = incapable
			}
			host = {
				character = FROM
			}
			liege = {
				NOT = {
					character = FROM
				}
			}
		}
		allow = {
			liege = {
				NOR = {
					is_lover = ROOT
					is_friend = ROOT
					is_child_of = ROOT
					is_mother = ROOT
					is_father = ROOT
				}
			}
			NOT = {
				is_rival = FROM
			}
			opinion_diff = {
				first = FROM
				second = liege
				value = -25
			}
		}
		effect = {
			log = "work decision recruit_prisoner for [Root.GetBestName]"
			hidden_tooltip = {
				liege = {
					character_event = {
						id = RIP.29700
					}
				}
			}
			if = {
				limit = {
					is_consort = yes
					is_female = yes
				}
				consort = {
					remove_consort = ROOT
				}
			}
			move_character = FROM
			prisoner = no
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	execute_prisoner = {
		ai_target_filter = court
		from_potential = {
			is_ruler = yes
			NOT = {
				trait = incapable
			}
			is_incapacitated_trigger = no
		}
		potential = {
			prisoner = yes
			host = {
				character = FROM
			}
			NOT = {
				character = FROM
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision execute_prisoner for [Root.GetBestName]"
			prisoner = no
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			if = {
				limit = {
					is_demon_trigger = yes
				}
				character_event = {
					id = wh_chaos_demons.1
				}
				break = yes
			}
			death = {
				death_reason = death_execution
				killer = FROM
			}
			wh_execution_opinion_effect = yes
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.05 # Less likely to do it
			}
			modifier = {
				factor = 0
				FROM = {
					religion_group = cytharai_group
				}
			}
			modifier = {
				factor = 0
				OR = {
					FROM = {
						religion = slaanesh
					}
					FROM = {
						religion = cult_of_pleasure
					}
				}
				FROM = {
					wh_is_mage_trigger = yes
				}
			}
			modifier = {
				factor = 0
				OR = {
					FROM = {
						has_artifact = black_dragon_mount
					}
					FROM = {
						has_artifact = blue_dragon_mount
					}
					FROM = {
						has_artifact = chaos_dragon_mount
					}
					FROM = {
						has_artifact = gold_dragon_mount
					}
					FROM = {
						has_artifact = green_dragon_mount
					}
					FROM = {
						has_artifact = wyvern_mount
					}
					FROM = {
						has_artifact = gryphon_mount
					}
					FROM = {
						has_artifact = white_dragon_mount
					}
					FROM = {
						has_artifact = red_dragon_mount
					}
					FROM = {
						trait = creature_beastman
					}
				}
			}
			modifier = {
				factor = 0
				reverse_opinion = {
					who = FROM
					value = 20
				}
			}
			modifier = {
				factor = 0 #Enemy has your relative
				FROM = {
					any_current_enemy = {
						dynasty = ROOT
						is_close_relative = ROOT
						any_courtier = {
							is_close_relative = FROM
							dynasty = FROM
						}
					}
				}
			}
			modifier = {
				factor = 0.001
				FROM = {
					OR = {
						trait = kind
						trait = just
					}
				}
			}
			modifier = {
				factor = 2
				FROM = {
					OR = {
						trait = cruel
						trait = zealous
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = lunatic_3
				}
			}
			modifier = {
				factor = 0.05
				FROM = {
					trait = patient
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = lore_necromancy
				}
			}
			modifier = {
				factor = 150
				FROM = {
					trait = witch_hunter
				}
				NOT = {
					trait = witch_hunter
				}
				OR = {
					trait = mutation_minor
					trait = mutation_major
					trait = mutation_massive
					trait = has_nurgles_rot
					wh_has_any_magic_potential_reveal_trigger = yes
					wh_is_mage_trigger = yes
				}
			}
		}
	}
	execute_eat = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Reapers"
			is_playable = yes
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
			OR = {
				has_character_modifier = cannibal
				trait = cannibal_trait
			}
			OR = {
				trait = possessed
				trait = lunatic
			}
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			age = 12
		}
		effect = {
			log = "work decision execute_eat for [Root.GetBestName]"
			hidden_tooltip = {
				any_dynasty_member = {
					limit = {
						is_close_relative = ROOT
						NOT = {
							character = FROM
						}
					}
					character_event = {
						id = RIP.11511 days = 1
					}
				}
				FROM = {
					random_list = {
						50 = {
							# Nothing happens
							modifier = {
								factor = 0
								OR = {
									ROOT = {
										immortal = yes
									}
									AND = {
										ROOT = {
											controls_religion = yes
										}
										FROM = {
											NOT = {
												religion_group = ROOT
											}
										}
									}
								}
							}
						}
						40 = {
							# Get sick
							modifier = {
								factor = 0
								OR = {
									immortal = yes
									has_character_flag = demon_child
									ROOT = {
										immortal = yes
									}
									AND = {
										ROOT = {
											controls_religion = yes
										}
										FROM = {
											NOT = {
												religion_group = ROOT
											}
										}
									}
								}
							}
							random_list = {
								50 = {
									# Food Poisoning
									if = {
										limit = {
											NOR = {
												num_of_symptoms = 1
												is_ill = yes
												has_character_flag = developing_illness
												has_character_flag = disease_not_serious
											}
										}
										set_character_flag = got_food_poisoning
										set_character_flag = developing_illness
										character_event = {
											id = RIP.5023 days = 5
										}
									}
								}
								25 = {
									# Diarrhea - Not Serious
									if = {
										limit = {
											NOR = {
												num_of_symptoms = 1
												is_ill = yes
												has_character_flag = developing_illness
												has_character_flag = disease_not_serious
											}
										}
										set_character_flag = disease_not_serious
										character_event = {
											id = RIP.5002 days = 5
										}
										character_event = {
											id = RIP.11004 days = 10 random = 50
										}
									}
								}
								25 = {
									# Vomiting - Not Serious
									if = {
										limit = {
											NOR = {
												num_of_symptoms = 1
												is_ill = yes
												has_character_flag = developing_illness
												has_character_flag = disease_not_serious
											}
										}
										set_character_flag = disease_not_serious
										character_event = {
											id = RIP.5003 days = 5
										}
										character_event = {
											id = RIP.11005 days = 10 random = 50
										}
									}
								}
							}
						}
						10 = {
							# Gain power!
							modifier = {
								factor = 0
								has_game_rule = {
									name = supernatural_events
									value = off
								}
							}
							character_event = {
								id = RIP.11510
							}
						}
					}
					if = {
						limit = {
							has_nickname = no
						}
						random_list = {
							20 = {
								# Get nickname The Cannibal
								give_nickname = nick_the_cannibal
							}
							15 = {
								# Get nickname The Dragon
								give_nickname = nick_the_dragon
							}
							15 = {
								# Get nickname The Abomination
								give_nickname = nick_the_abomination
							}
							10 = {
								# Get nickname The Monster
								give_nickname = nick_the_monster
							}
							40 = {
							} # No nickname
						}
					}
				}
			}
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_execution_eaten
				killer = FROM
			}
			FROM = {
				if = {
					limit = {
						NOT = {
							trait = lunatic_1
						}
					}
					add_trait = lunatic_1
				}
				if = {
					limit = {
						NOT = {
							has_character_modifier = crazy_cannibal
						}
					}
					add_character_modifier = {
						name = crazy_cannibal
						duration = -1
					}
				}
				if = {
					limit = {
						dynasty = ROOT
						NOT = {
							trait = kinslayer
						}
					}
					add_trait = kinslayer
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	prisoner_to_oubilette = {
		filter = court
		ai_target_filter = court
		from_potential = {
			ai = no
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			NOT = {
				has_character_modifier = the_oubliette
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_to_oubilette for [Root.GetBestName]"
			add_character_modifier = {
				name = the_oubliette
				duration = -1
			}
			hidden_tooltip = {
				remove_character_modifier = the_dungeon
				remove_character_modifier = house_arrest
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	prisoner_to_dungeon = {
		filter = court
		ai_target_filter = court
		from_potential = {
			ai = no
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			OR = {
				has_character_modifier = the_oubliette
				has_character_modifier = house_arrest
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_to_dungeon for [Root.GetBestName]"
			add_character_modifier = {
				name = the_dungeon
				duration = -1
			}
			hidden_tooltip = {
				remove_character_modifier = the_oubliette
				remove_character_modifier = house_arrest
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	prisoner_to_suite = {
		filter = court
		ai_target_filter = court
		from_potential = {
			ai = no
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			NOT = {
				has_character_modifier = house_arrest
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_to_suite for [Root.GetBestName]"
			add_character_modifier = {
				name = house_arrest
				duration = -1
			}
			hidden_tooltip = {
				remove_character_modifier = the_oubliette
				remove_character_modifier = the_dungeon
				character_event = {
					id = ZE.12219
				} # Loses pet rat
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	prisoner_humiliation = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Reapers"
			is_playable = yes
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			age = 13
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_humiliation for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					random_list = {
						# Tar 'n' feathers
						33 = {
							modifier = {
								factor = 0
								ROOT = {
									OR = {
										has_character_modifier = incestuous_adulterer
										has_character_modifier = incestuous_adulteress
										has_character_modifier = adulterer
										has_character_modifier = adulteress
										has_character_modifier = known_sodomite
										has_character_modifier = cradle_robber
										has_character_modifier = adulterous_priest
									}
								}
							}
							modifier = {
								factor = 0
								OR = {
									is_nomadic = yes
									is_tribal = yes
								}
							}
							character_event = {
								id = RIP.15001
							}
							ROOT = {
								character_event = {
									id = RIP.15002
								}
							}
						}
						# Tar 'n' feathers NOMAD
						33 = {
							modifier = {
								factor = 0
								ROOT = {
									OR = {
										has_character_modifier = incestuous_adulterer
										has_character_modifier = incestuous_adulteress
										has_character_modifier = adulterer
										has_character_modifier = adulteress
										has_character_modifier = known_sodomite
										has_character_modifier = cradle_robber
										has_character_modifier = adulterous_priest
									}
								}
							}
							modifier = {
								factor = 0
								NOR = {
									is_nomadic = yes
									is_tribal = yes
								}
							}
							character_event = {
								id = RIP.15007
							}
							ROOT = {
								character_event = {
									id = RIP.15008
								}
							}
						}
						# the Stocks
						33 = {
							modifier = {
								factor = 0
								ROOT = {
									OR = {
										has_character_modifier = incestuous_adulterer
										has_character_modifier = incestuous_adulteress
										has_character_modifier = adulterer
										has_character_modifier = adulteress
										has_character_modifier = known_sodomite
										has_character_modifier = cradle_robber
										has_character_modifier = adulterous_priest
									}
								}
							}
							modifier = {
								factor = 0
								OR = {
									is_nomadic = yes
									is_tribal = yes
								}
							}
							character_event = {
								id = RIP.15003
							}
							ROOT = {
								character_event = {
									id = RIP.15004
								}
							}
						}
						# walk of shame
						33 = {
							modifier = {
								factor = 0
								ROOT = {
									NOT = {
										OR = {
											has_character_modifier = incestuous_adulterer
											has_character_modifier = incestuous_adulteress
											has_character_modifier = adulterer
											has_character_modifier = adulteress
											has_character_modifier = known_sodomite
											has_character_modifier = cradle_robber
											has_character_modifier = adulterous_priest
										}
									}
								}
							}
							character_event = {
								id = RIP.15005
							}
							ROOT = {
								character_event = {
									id = RIP.15006
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						name = punishment_release_prisoner
						value = on
					}
				}
				prisoner = no
			}
			add_character_modifier = {
				name = publicly_humiliated
				years = 10
			}
			opinion = {
				modifier = opinion_humiliated_me
				who = FROM
			}
			hidden_tooltip = {
				mother = {
					opinion = {
						modifier = opinion_humiliated_close_kin
						who = FROM
					}
				}
				father = {
					opinion = {
						modifier = opinion_humiliated_close_kin
						who = FROM
					}
				}
				spouse = {
					opinion = {
						modifier = opinion_humiliated_close_kin
						who = FROM
					}
				}
				any_child = {
					opinion = {
						modifier = opinion_humiliated_close_kin
						who = FROM
					}
				}
				if = {
					limit = {
						FROM = {
							nor = {
								dynasty = ROOT
								sibling = ROOT
							}
						}
					}
					any_sibling = {
						opinion = {
							modifier = opinion_humiliated_close_kin
							who = FROM
						}
					}
					any_dynasty_member = {
						opinion = {
							modifier = opinion_humiliated_family
							who = FROM
						}
					}
				}
			}
			FROM = {
				save_event_target_as = remove_prison_reason_effect_accuser
			}
			ROOT = {
				save_event_target_as = remove_prison_reason_effect_accused
			}
			hidden_tooltip = {
				remove_prison_reason_effect = yes
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 0
				reverse_opinion = {
					who = FROM value = 40
				}
			}
			modifier = {
				factor = 5
				FROM = {
					trait = kind
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = greedy
				}
			}
			modifier = {
				factor = 10
				is_pretender = yes
				is_rival = ROOT
				FROM = {
					OR = {
						is_pretender = yes
						is_primary_heir = yes
					}
				}
			}
		}
	}
	prisoner_read_poetry = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Reapers"
			is_playable = yes
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
			trait = poet
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			age = 13
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_read_poetry for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					random_list = {
						10 = {
							# Poem 1
							character_event = {
								id = RIP.20023
							}
							ROOT = {
								character_event = {
									id = RIP.20024
								}
							}
						}
						10 = {
							# Poem 2
							character_event = {
								id = RIP.20025
							}
							ROOT = {
								character_event = {
									id = RIP.20026
								}
							}
						}
						10 = {
							# Poem 3
							character_event = {
								id = RIP.20027
							}
							ROOT = {
								character_event = {
									id = RIP.20028
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						name = punishment_release_prisoner
						value = on
					}
				}
				prisoner = no
			}
			opinion = {
				modifier = opinion_bad_poetry
				who = FROM
			}
			FROM = {
				save_event_target_as = remove_prison_reason_effect_accuser
			}
			ROOT = {
				save_event_target_as = remove_prison_reason_effect_accused
			}
			hidden_tooltip = {
				remove_prison_reason_effect = yes
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 0
				reverse_opinion = {
					who = FROM value = 40
				}
			}
			modifier = {
				factor = 0.2 # Less likely to do it
			}
			modifier = {
				factor = 5
				FROM = {
					OR = {
						trait = cruel
						trait = envious
						is_rival = ROOT
						trait = arbitrary
					}
				}
			}
		}
	}
	prisoner_mutilate = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Reapers"
			is_playable = yes
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
			OR = {
				trait = cruel
				trait = impaler
				trait = wroth
				trait = arbitrary
				AND = {
					trait = envious
					trait = ugly
				}
			}
			NOT = {
				trait = kind
			}
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			age = 13
			NOT = {
				AND = {
					trait = one_legged
					trait = one_handed
					trait = disfigured
					OR = {
						trait = one_eyed
						trait = blinded
					}
				}
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_mutilate for [Root.GetBestName]"
			hidden_tooltip = {
				if = {
					limit = {
						FROM = {
							has_nickname = no
							is_adult = yes
							NOT = {
								trait = incapable
							}
						}
					}
					random_list = {
						5 = {
							FROM = {
								give_nickname = nick_the_evil
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_tormentor
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_butcher
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_mutilator
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_monster
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_son_of_evilgod
							}
						}
						100 = {
						}
					}
				}
			}
			hidden_tooltip = {
				random_list = {
					10 = {
						# One-legged
						modifier = {
							factor = 0
							trait = one_legged
						}
						FROM = {
							character_event = {
								id = RIP.20013
							}
						}
						character_event = {
							id = RIP.20014
						}
					}
					10 = {
						# One-handed
						modifier = {
							factor = 0
							trait = one_handed
						}
						FROM = {
							character_event = {
								id = RIP.20015
							}
						}
						character_event = {
							id = RIP.20016
						}
					}
					10 = {
						# One-eyed
						modifier = {
							factor = 0
							OR = {
								trait = one_eyed
								trait = blinded
							}
						}
						FROM = {
							character_event = {
								id = RIP.20017
							}
						}
						character_event = {
							id = RIP.20018
						}
					}
					20 = {
						# Disfigured
						modifier = {
							factor = 0
							trait = disfigured
						}
						FROM = {
							character_event = {
								id = RIP.20019
							}
						}
						character_event = {
							id = RIP.20020
						}
					}
				}
			}
			if = {
				limit = {
					has_game_rule = {
						name = punishment_release_prisoner
						value = on
					}
				}
				prisoner = no
			}
			opinion = {
				modifier = opinion_mutilated_me
				who = FROM
			}
			FROM = {
				piety = -50
				if = {
					limit = {
						NOT = {
							trait = cruel
						}
					}
					random = {
						chance = 25
						add_trait = cruel
						hidden_tooltip = {
							character_event = {
								id = 38259
							}
						}
					}
				}
			}
			hidden_tooltip = {
				mother = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				father = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				spouse = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				any_child = {
					opinion = {
						modifier = opinion_mutilated_close_kin
						who = FROM
					}
				}
				if = {
					limit = {
						FROM = {
							nor = {
								dynasty = ROOT
								sibling = ROOT
							}
						}
					}
					any_sibling = {
						opinion = {
							modifier = opinion_mutilated_close_kin
							who = FROM
						}
					}
					any_dynasty_member = {
						opinion = {
							modifier = opinion_mutilated_family
							who = FROM
						}
					}
				}
				FROM = {
					save_event_target_as = remove_prison_reason_effect_accuser
				}
				ROOT = {
					save_event_target_as = remove_prison_reason_effect_accused
				}
				hidden_tooltip = {
					remove_prison_reason_effect = yes
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.5
			modifier = {
				factor = 0
				OR = {
					reverse_opinion = {
						who = FROM value = 40
					}
					FROM = {
						NOT = {
							piety = 100
						}
					}
					FROM = {
						LIEGE = {
							dynasty = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 1 # Less likely to do it
				reverse_opinion = {
					who = FROM value = 0
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOR = {
						trait = cruel
						trait = impaler
						trait = wroth
						is_rival = ROOT
						trait = arbitrary
					}
				}
			}
		}
	}
	prisoner_torture = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Reapers"
			is_playable = yes
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
		}
		potential = {
			prisoner = yes
			host = {
				character = FROM
			}
			age = 13
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision prisoner_torture for [Root.GetBestName]"
			hidden_tooltip = {
				if = {
					limit = {
						FROM = {
							has_nickname = no
							is_adult = yes
							NOT = {
								trait = incapable
							}
						}
					}
					random_list = {
						5 = {
							FROM = {
								give_nickname = nick_the_cruel
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_evil
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_tormentor
							}
						}
						5 = {
							FROM = {
								give_nickname = nick_the_depraved
							}
						}
						100 = {
						}
					}
				}
			}
			hidden_tooltip = {
				random_list = {
					#Normal torture options
					10 = {
						random_list = {
							10 = {
								# Racks
								FROM = {
									character_event = {
										id = RIP.20001
									}
								}
								character_event = {
									id = RIP.20002
								}
							}
							10 = {
								# Whipping
								FROM = {
									character_event = {
										id = RIP.20003
									}
								}
								character_event = {
									id = RIP.20004
								}
							}
							10 = {
								# Rats
								FROM = {
									character_event = {
										id = RIP.20005
									}
								}
								character_event = {
									id = RIP.20006
								}
							}
							20 = {
								# Heat exposure
								FROM = {
									character_event = {
										id = RIP.20009
									}
								}
								character_event = {
									id = RIP.20010
								}
							}
							20 = {
								# Cold exposure
								modifier = {
									FROM = {
										character_event = {
											id = RIP.20011
										}
									}
								}
								character_event = {
									id = RIP.20012
								}
							}
						}
						hidden_tooltip = {
							opinion = {
								modifier = opinion_tortured_me
								who = FROM
							}
							mother = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							father = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							spouse = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							any_child = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							if = {
								limit = {
									FROM = {
										nor = {
											dynasty = ROOT
											sibling = ROOT
										}
									}
								}
								any_sibling = {
									opinion = {
										modifier = opinion_tortured_close_kin
										who = FROM
									}
								}
								any_dynasty_member = {
									opinion = {
										modifier = opinion_tortured_family
										who = FROM
									}
								}
							}
						}
					}
					20 = {
						# Lunatic option
						modifier = {
							factor = 0
							NOT = {
								FROM = {
									trait = lunatic
								}
							}
						}
						FROM = {
							character_event = {
								id = RIP.20007
							}
						}
						character_event = {
							id = RIP.20008
						}
					}
				}
			}
			tooltip = {
				add_character_modifier = {
					name = tortured years = 2
				}
				opinion = {
					modifier = opinion_tortured_me
					who = FROM
				}
			}
			if = {
				limit = {
					has_game_rule = {
						name = punishment_release_prisoner
						value = on
					}
				}
				prisoner = no
			}
			FROM = {
				save_event_target_as = remove_prison_reason_effect_accuser
				ROOT = {
					save_event_target_as = remove_prison_reason_effect_accused
				}
				hidden_tooltip = {
					remove_prison_reason_effect = yes
				}
				if = {
					limit = {
						NOR = {
							trait = cruel
							trait = kind
						}
					}
					random = {
						chance = 25
						add_trait = cruel
						hidden_tooltip = {
							character_event = {
								id = 38259
							}
						}
					}
				}
				if = {
					limit = {
						trait = kind
					}
					random = {
						chance = 50
						remove_trait = kind
						hidden_tooltip = {
							character_event = {
								id = 38307
							}
						}
					}
					hidden_tooltip = {
						random_list = {
							30 = {
								add_trait = stressed
								hidden_tooltip = {
									character_event = {
										id = 38282
									}
								}
							}
							10 = {
								add_trait = depressed
								hidden_tooltip = {
									character_event = {
										id = 38288
									}
								}
							}
							60 = {
								#nothing
							}
						}
					}
				}
				piety = -20
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.5
			modifier = {
				factor = 0
				OR = {
					reverse_opinion = {
						who = FROM value = 40
					}
					FROM = {
						NOT = {
							piety = 100
						}
					}
					FROM = {
						LIEGE = {
							dynasty = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOR = {
						trait = cruel
						trait = impaler
						trait = wroth
						is_rival = ROOT
						trait = arbitrary
						trait = paranoid
						trait = deceitful
						trait = proud
						trait = lunatic
						trait = possessed
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						trait = kind
						trait = just
						trait = patient
						trait = shy
						trait = greedy
					}
				}
			}
			modifier = {
				factor = 10
				FROM = {
					OR = {
						trait = cruel
						trait = impaler
						trait = wroth
						is_rival = ROOT
						trait = arbitrary
					}
				}
			}
		}
	}
	vassal_castrate_decision = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Legacy of Rome"
			is_playable = yes
			is_incapacitated_trigger = no
			OR = {
				religion_group = cadai_group
				religion_group = chaos_gods_group
				trait = creature_amazon
				culture = myken
			}
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			is_female = no
			nor = {
				trait = eunuch
				trait = creature_nehekharan
				trait = creature_skink
				trait = creature_orc
				trait = creature_snotling
				trait = creature_goblin
				trait = creature_slann
				trait = creature_forestspirit
				trait = creature_treekin
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision vassal_castrate_decision for [Root.GetBestName]"
			hidden_tooltip = {
				if = {
					limit = {
						age = 16
					}
					FROM = {
						character_event = {
							id = LoR.832
						}
					}
				}
				if = {
					limit = {
						NOT = {
							age = 16
						}
					}
					FROM = {
						character_event = {
							id = LoR.834
						}
					}
				}
			}
			character_event = {
				id = LoR.833 tooltip = "EVTTOOLTIPLoR.833"
			}
			add_trait = eunuch
			if = {
				limit = {
					has_game_rule = {
						name = punishment_release_prisoner
						value = on
					}
				}
				prisoner = no
			}
			opinion = {
				modifier = opinion_castrated_me
				who = FROM
			}
			FROM = {
				if = {
					limit = {
						NOT = {
							trait = cruel
						}
					}
					random = {
						chance = 25
						add_trait = cruel
						hidden_tooltip = {
							character_event = {
								id = 38259
							}
						}
					}
				}
				piety = -50
			}
			hidden_tooltip = {
				mother = {
					opinion = {
						modifier = opinion_castrated_close_kin
						who = FROM
					}
				}
				father = {
					opinion = {
						modifier = opinion_castrated_close_kin
						who = FROM
					}
				}
				spouse = {
					opinion = {
						modifier = opinion_castrated_close_kin
						who = FROM
					}
				}
				any_child = {
					opinion = {
						modifier = opinion_castrated_close_kin
						who = FROM
					}
				}
				if = {
					limit = {
						FROM = {
							nor = {
								dynasty = ROOT
								sibling = ROOT
							}
						}
					}
					any_sibling = {
						opinion = {
							modifier = opinion_castrated_close_kin
							who = FROM
						}
					}
					any_dynasty_member = {
						opinion = {
							modifier = opinion_castrated_family
							who = FROM
						}
					}
				}
				FROM = {
					remove_opinion = {
						who = ROOT modifier = opinion_traitor
					}
					remove_opinion = {
						who = ROOT modifier = opinion_rebel_traitor
					}
					remove_opinion = {
						who = ROOT modifier = opinion_dishonorable
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					reverse_opinion = {
						who = FROM value = 40
					}
					FROM = {
						NOT = {
							piety = 100
						}
					}
					FROM = {
						LIEGE = {
							dynasty = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = kind
				}
			}
			modifier = {
				factor = 0
				FROM = {
					any_courtier = {
						trait = eunuch
						count = 3
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					religion_group = cadai_group
				}
				FROM = {
					NOT = {
						trait = cruel
					}
				}
				FROM = {
					NOT = {
						trait = impaler
					}
				}
				FROM = {
					NOT = {
						trait = lunatic_1
					}
				}
				FROM = {
					NOT = {
						trait = lunatic_2
					}
				}
				FROM = {
					NOT = {
						trait = lunatic_3
					}
				}
				FROM = {
					NOT = {
						trait = possessed
					}
				}
			}
			modifier = {
				factor = 1
			}
			modifier = {
				factor = 1.2
				FROM = {
					OR = {
						trait = cruel
						trait = impaler
					}
				}
			}
		}
	}
	vassal_blinding_decision = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			has_dlc = "Legacy of Rome"
			is_playable = yes
			OR = {
				religion_group = cadai_group
				religion_group = chaos_gods_group
				culture = myken
			}
		}
		potential = {
			host = {
				character = FROM
			}
			prisoner = yes
			nor = {
				trait = blinded
				trait = creature_nehekharan
				trait = creature_forestspirit
				trait = creature_treekin
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision vassal_blinding_decision for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					character_event = {
						id = LoR.830
					}
				}
			}
			character_event = {
				id = LoR.831 tooltip = "EVTTOOLTIPLoR.831"
			}
			if = {
				limit = {
					trait = one_eyed
				}
				remove_trait = one_eyed
			}
			add_trait = blinded
			if = {
				limit = {
					has_game_rule = {
						name = punishment_release_prisoner
						value = on
					}
				}
				prisoner = no
			}
			opinion = {
				modifier = opinion_blinded_me
				who = FROM
			}
			FROM = {
				if = {
					limit = {
						NOT = {
							trait = cruel
						}
					}
					random = {
						chance = 25
						add_trait = cruel
						hidden_tooltip = {
							character_event = {
								id = 38259
							}
						}
					}
				}
				piety = -50
			}
			hidden_tooltip = {
				mother = {
					opinion = {
						modifier = opinion_blinded_close_kin
						who = FROM
					}
				}
				father = {
					opinion = {
						modifier = opinion_blinded_close_kin
						who = FROM
					}
				}
				spouse = {
					opinion = {
						modifier = opinion_blinded_close_kin
						who = FROM
					}
				}
				any_child = {
					opinion = {
						modifier = opinion_blinded_close_kin
						who = FROM
					}
				}
				if = {
					limit = {
						FROM = {
							nor = {
								dynasty = ROOT
								sibling = ROOT
							}
						}
					}
					any_sibling = {
						opinion = {
							modifier = opinion_blinded_close_kin
							who = FROM
						}
					}
					any_dynasty_member = {
						opinion = {
							modifier = opinion_blinded_family
							who = FROM
						}
					}
				}
				FROM = {
					remove_opinion = {
						who = ROOT modifier = opinion_traitor
					}
					remove_opinion = {
						who = ROOT modifier = opinion_rebel_traitor
					}
					remove_opinion = {
						who = ROOT modifier = opinion_dishonorable
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					reverse_opinion = {
						who = FROM value = 40
					}
					FROM = {
						NOT = {
							piety = 100
						}
					}
					FROM = {
						LIEGE = {
							dynasty = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = kind
				}
			}
			modifier = {
				factor = 0.4 # Less likely to do it
			}
			modifier = {
				factor = 2
				is_pretender = yes
				FROM = {
					OR = {
						is_pretender = yes
						is_primary_heir = yes
					}
				}
			}
		}
	}

	introduce_heir = {
		only_playable = yes
		is_high_prio = yes
		filter = home_court
		ai_target_filter = home_court
		from_potential = {
			is_playable = yes
			has_ambition = obj_groom_an_heir
			prisoner = no
			NOR = {
				trait = incapable
				is_inaccessible_trigger = yes
			}
			war = no
			num_of_vassals = 7
		}
		potential = {
			is_alive = yes
			NOR = {
				any_sibling = {
					is_alive = yes
					has_character_flag = introduced_heir
				}
				has_character_flag = introduced_heir
			}
			is_child_of = FROM
		}
		allow = {
			is_primary_heir = FROM
			is_adult = no
			age = 12
			is_landed = no
			host = {
				character = FROM
			}
			prisoner = no
			nor = {
				trait = incapable
				trait = bastard
				trait = eunuch
				trait = celibate
				is_inaccessible_trigger = yes
				is_ascetic_trigger = yes
			}
		}
		effect = {
			log = "work decision introduce_heir for [Root.GetBestName]"
			custom_tooltip = {
				text = introduce_heir_custom_tooltip
				hidden_tooltip = {
					set_character_flag = introduced_heir
					save_event_target_as = introduced_heir
					FROM = {
						character_event = {
							id = ZE.22900
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				always = yes
			}
		}
	}
	legitimize_bastard = {
		only_playable = yes
		filter = dynasty
		ai_target_filter = dynasty
		from_potential = {
			ai = no
			is_playable = yes
			has_children = yes
			has_polygamy = no
		}
		potential = {
			trait = bastard
			is_child_of = FROM
			is_liege_or_above = FROM
		}
		allow = {
			FROM = {
				piety = 20
			}
		}
		effect = {
			log = "work decision legitimize_bastard for [Root.GetBestName]"
			dynasty = FROM
			remove_trait = bastard
			add_trait = legit_bastard
			recalc_succession = yes
			FROM = {
				piety = -20
			}
			if = {
				limit = {
					prisoner = yes
					host = {
						character = FROM
					}
				}
				imprison = no
			}
			mother = {
				opinion = {
					who = FROM
					modifier = legitimized_child
					years = 10
				}
			}
			FROM = {
				spouse = {
					if = {
						limit = {
							NOT = {
								any_child = {
									character = ROOT
								}
							}
						}
						opinion = {
							who = FROM
							modifier = legitimized_bastard
							years = 20
						}
					}
				}
				any_child = {
					limit = {
						NOT = {
							character = ROOT
						}
						dynasty = FROM
						NOT = {
							trait = bastard
						}
					}
					opinion = {
						who = FROM
						modifier = legitimized_bastard
						months = 12
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	change_wards_focus_to_heritage  = {
		only_playable = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			is_playable = yes
			has_dlc = "Zeus"
		}
		potential = {
			is_adult = no
			NOR = {
				has_character_flag = guardian_asked_to_change_focus
				has_focus = focus_ch_heritage
				character = FROM
			}
			host = {
				character = FROM
			}
			OR = {
				liege = {
					character = FROM
				}
				prisoner = yes
			}
			OR = {
				is_landed = no
				is_liege_or_above = FROM
				prisoner = yes
			}
			NOT = {
				educator = {
					culture = ROOT
					religion = ROOT
				}
			}
		}
		allow = {
			NOT = {
				age = 10
			}
		}
		effect = {
			log = "work decision change_wards_focus_to_heritage  for [Root.GetBestName]"
			set_character_flag = guardian_asked_to_change_focus
			if = {
				limit = {
					OR = {
						liege = {
							character = FROM
						}
						prisoner = yes
					}
				}
				hidden_tooltip = {
					clear_focus = yes
				}
				set_focus = focus_ch_heritage
				break = yes
			}
			hidden_tooltip = {
				liege = {
					letter_event = {
						id = ZE.2130 days = 5
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.05
			}
		}
	}

	commit_suicide = {
		filter = self
		ai_target_filter = self
		potential = {
			ai = no
			is_adult = yes
			is_invincible_trigger = no
			OR = {
				trait = depressed
				AND = {
					trait = incapable
					has_dlc = "Reapers"
				}
			}
			immortal = no
		}
		allow = {
			custom_tooltip = {
				text = commit_suicide_allow_tooltip
				hidden_tooltip = {
					OR = {
						trait = depressed
						trait = incapable
					}
				}
			}
			custom_tooltip = {
				NOT = {
					has_character_flag = attempting_suicide
				}
				text = attempting_suicide_tooltip
			}
		}
		effect = {
			log = "work decision commit_suicide for [Root.GetBestName]"
			if = {
				limit = {
					has_dlc = "Reapers"
				}
				set_character_flag = attempting_suicide
				if = {
					limit = {
						NOT = {
							trait = incapable
						}
					}
					character_event = {
						id = RIP.30200
					}
				}
				if = {
					limit = {
						trait = incapable
					}
					character_event = {
						id = RIP.30210
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_dlc = "Reapers"
					}
				}
				prestige = -200
				add_character_modifier = {
					modifier = suicide
					duration = -1
				}
				death = {
					death_reason = death_suicide
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	commit_suicide_immortal = {
		filter = self
		ai_target_filter = self
		potential = {
			ai = no
			is_adult = yes
			prisoner = no
			immortal = yes
			NOR = {
				trait = creature_orc
				trait = creature_goblin
				trait = creature_slann
				trait = creature_nehekharan
				trait = creature_elf
				trait = creature_dwarf
				trait = creature_chaos_dwarf
				trait = khorne_demon
				trait = nurgle_demon
				trait = slaanesh_demon
				trait = tzeentch_demon
				trait = hashut_kdaai
				trait = vampire_lahmian_visible
				trait = vampire_carstein_visible
				trait = vampire_blood_visible
				trait = vampire_strigoi_visible
				trait = vampire_necrarch_visible
				trait = vampire_jade_visible
				trait = vampire_mahtmasi_visible
				trait = vampire_lahmian_hidden
				trait = vampire_carstein_hidden
				trait = vampire_blood_hidden
				trait = vampire_strigoi_hidden
				trait = vampire_necrarch_hidden
				trait = vampire_jade_hidden
				trait = vampire_mahtmasi_hidden
				trait = creature_celdragon
			}
			OR = {
				trait = depressed
				age = 100
			}
		}
		allow = {
			immortal = yes
			OR = {
				trait = depressed
				age = 100
			}
			custom_tooltip = {
				NOT = {
					has_character_flag = attempting_suicide
				}
				text = attempting_suicide_tooltip
			}
		}
		effect = {
			log = "work decision commit_suicide_immortal for [Root.GetBestName]"
			if = {
				limit = {
					has_dlc = "Reapers"
				}
				set_character_flag = attempting_suicide
				if = {
					limit = {
						NOT = {
							trait = incapable
						}
					}
					character_event = {
						id = RIP.30200
					}
				}
				if = {
					limit = {
						trait = incapable
					}
					character_event = {
						id = RIP.30210
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_dlc = "Reapers"
					}
				}
				prestige = -200
				add_character_modifier = {
					modifier = suicide
					duration = -1
				}
				if = {
					limit = {
						is_invincible_trigger = yes
					}
					antideath_effect = yes
					break = yes
				}
				death = {
					death_reason = death_suicide
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	go_into_hiding = {
		only_rulers = yes
		is_high_prio = yes
		filter = self
		ai_target_filter = self
		potential = {
			prisoner = no
			NOT = {
				is_inaccessible_trigger = yes
			}
			OR = {
				ai = no
				trait = amateurish_plotter
				trait = flamboyant_schemer
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		allow = {
			in_command = no
			custom_tooltip = {
				text = is_not_busy_trigger_tooltip
				hidden_tooltip = {
					NOT = {
						has_character_flag = do_not_disturb
					}
				}
			}
			has_job_title = no
			custom_tooltip = {
				text = is_target_of_murder_plot_tooltip
				hidden_tooltip = {
					OR = {
						has_character_modifier = suspected_murder_plot
						any_known_plotter = {
							target = ROOT
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = recently_went_out_of_hiding_tooltip
				hidden_tooltip = {
					NOT = {
						has_character_modifier = went_out_of_hiding_timer
					}
				}
			}
		}
		effect = {
			log = "work decision go_into_hiding for [Root.GetBestName]"
			set_character_flag = do_not_disturb
			custom_tooltip = {
				text = go_into_hiding_info_tooltip
			}
			add_trait = in_hiding
			hidden_tooltip = {
				# Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = {
								has_character_flag = murder_in_motion
							}
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6000
						}
						any_backed_character = {
							character_event = {
								id = CM.6000
							}
						}
					}
					any_plotter = {
						target = ROOT
						limit = {
							has_character_flag = murder_in_motion
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6180
						}
						any_backed_character = {
							character_event = {
								id = CM.6000
							}
						}
					}
				}
				any_spouse = {
					limit = {
						NOT = {
							plot_target_char = {
								character = ROOT
							}
						}
						NOT = {
							any_backed_character = {
								plot_target_char = {
									character = ROOT
								}
							}
						}
						NOT = {
							is_rival = ROOT
						}
					}
					character_event = {
						id = CM.6000
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				ROOT = {
					any_plotter = {
						target = ROOT
						is_primary_heir = yes
						ai = no
					}
				}
			}
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0.1
				age = 65
			}
			modifier = {
				factor = 0.1
				trait = brave
			}
			modifier = {
				factor = 2
				trait = depressed
			}
			modifier = {
				factor = 5
				trait = craven
			}
			modifier = {
				factor = 10
				trait = paranoid
			}
		}
	}
	come_out_of_hiding = {
		only_rulers = yes
		is_high_prio = yes
		filter = self
		ai_target_filter = self
		potential = {
			is_ruler = yes
			trait = in_hiding
			NOT = {
				has_character_flag = in_religious_seclusion
			}
		}
		allow = {
			OR = {
				OR = {
					age = 16
					NOT = {
						trait = incapable
					}
				}
				regent = {
					nor = {
						trait = deceitful
						trait = ambitious
						is_rival = ROOT
					}
				}
			}
		}
		effect = {
			log = "work decision come_out_of_hiding for [Root.GetBestName]"
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			clr_character_flag = do_not_disturb
			custom_tooltip = {
				text = come_out_of_hiding_info_tooltip
			}
			remove_trait = in_hiding
			hidden_tooltip = {
				# Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6001
						}
					}
				}
				any_spouse = {
					limit = {
						ROOT = {
							NOT = {
								is_plot_target_of = THIS
							}
						}
					}
					character_event = {
						id = CM.6001
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				trait = paranoid
			}
			modifier = {
				factor = 0
				NOT = {
					ROOT = {
						any_plotter = {
							target = ROOT
							is_primary_heir = yes
							ai = no
						}
					}
				}
				OR = {
					has_character_modifier = suspected_murder_plot
					any_known_plotter = {
						target = ROOT
						OR = {
							has_plot = plot_kill_character
							has_plot = plot_kill_spouse
						}
					}
				}
			}
		}
	}
	send_child_into_hiding = {
		only_rulers = yes
		is_high_prio = yes
		filter = dynasty
		ai_target_filter = dynasty
		from_potential = {
			is_ruler = yes
			has_regent = no
			has_children = yes
			OR = {
				ai = no
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
		}
		potential = {
			NOT = {
				is_inaccessible_trigger = yes
			}
			is_ruler = no
			liege = {
				character = FROM
			}
			NOT = {
				is_plot_target_of = FROM
			}
			OR = {
				has_character_modifier = suspected_murder_plot
				FROM = {
					any_known_plotter = {
						target = PREV
						OR = {
							has_plot = plot_kill_character
							has_plot = plot_kill_spouse
						}
					}
				}
			}
			NOT = {
				any_spouse = {
					character = FROM
				}
			}
			OR = {
				father = {
					character = FROM
				}
				mother = {
					character = FROM
				}
			}
			OR = {
				father = {
					ai = no
				}
				mother = {
					ai = no
				}
				is_female = no
				is_primary_heir = yes
				AND = {
					is_female = yes
					FROM = {
						has_law = true_cognatic_succession
					}
				}
			}
			NOT = {
				has_character_modifier = went_out_of_hiding_timer
			}
		}
		allow = {
			in_command = no
			prisoner = no
			custom_tooltip = {
				text = is_not_busy_trigger_tooltip
				hidden_tooltip = {
					NOT = {
						has_character_flag = do_not_disturb
					}
				}
			}
			has_job_title = no
			custom_tooltip = {
				text = is_target_of_murder_plot_tooltip
				hidden_tooltip = {
					OR = {
						has_character_modifier = suspected_murder_plot
						FROM = {
							any_known_plotter = {
								target = PREV
								OR = {
									has_plot = plot_kill_character
									has_plot = plot_kill_spouse
								}
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = recently_went_out_of_hiding_tooltip
				hidden_tooltip = {
					NOT = {
						has_character_modifier = went_out_of_hiding_timer
					}
				}
			}
		}
		effect = {
			log = "work decision send_child_into_hiding for [Root.GetBestName]"
			custom_tooltip = {
				text = go_into_hiding_info_tooltip
			}
			add_trait = in_hiding
			set_character_flag = do_not_disturb
			hidden_tooltip = {
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							nor = {
								has_character_flag = murder_in_motion
								character = FROM
							}
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6004
						}
						any_backed_character = {
							character_event = {
								id = CM.6004
							}
						}
					}
					any_plotter = {
						target = ROOT
						limit = {
							has_character_flag = murder_in_motion
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6180
						}
						any_backed_character = {
							character_event = {
								id = CM.6004
							}
						}
					}
				}
				father = {
					if = {
						limit = {
							nor = {
								character = FROM
								plot_target_char = {
									character = ROOT
								}
							}
							NOT = {
								any_backed_character = {
									plot_target_char = {
										character = ROOT
									}
								}
							}
							NOT = {
								is_rival = ROOT
							}
						}
						character_event = {
							id = CM.6004
						}
					}
				}
				mother = {
					if = {
						limit = {
							nor = {
								character = FROM
								plot_target_char = {
									character = ROOT
								}
							}
							NOT = {
								any_backed_character = {
									plot_target_char = {
										character = ROOT
									}
								}
							}
							NOT = {
								is_rival = ROOT
							}
						}
						character_event = {
							id = CM.6004
						}
					}
				}
				any_spouse = {
					limit = {
						NOT = {
							plot_target_char = {
								character = ROOT
							}
						}
						NOT = {
							any_backed_character = {
								plot_target_char = {
									character = ROOT
								}
							}
						}
						NOT = {
							is_rival = ROOT
						}
					}
					character_event = {
						id = CM.6004
					}
				}
				any_child = {
					limit = {
						NOT = {
							plot_target_char = {
								character = ROOT
							}
						}
						NOT = {
							any_backed_character = {
								plot_target_char = {
									character = ROOT
								}
							}
						}
						NOT = {
							is_rival = ROOT
						}
					}
					character_event = {
						id = CM.6004
					}
				}
				any_lover = {
					limit = {
						NOT = {
							plot_target_char = {
								character = ROOT
							}
						}
						NOT = {
							any_backed_character = {
								plot_target_char = {
									character = ROOT
								}
							}
						}
						nor = {
							is_rival = ROOT
							spouse = {
								character = ROOT
							}
						}
					}
					character_event = {
						id = CM.6004
					}
				}
				any_sibling = {
					limit = {
						NOT = {
							plot_target_char = {
								character = ROOT
							}
						}
						NOT = {
							any_backed_character = {
								plot_target_char = {
									character = ROOT
								}
							}
						}
						nor = {
							is_rival = ROOT
							is_lover = ROOT
						}
					}
					character_event = {
						id = CM.6004
					}
				}
				any_rival = {
					limit = {
						nor = {
							character = FROM
							plot_target_char = {
								character = ROOT
							}
						}
						NOT = {
							any_backed_character = {
								plot_target_char = {
									character = ROOT
								}
							}
						}
					}
					character_event = {
						id = CM.6004
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0.5
				NOT = {
					FROM = {
						trait = in_hiding
					}
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					reverse_opinion = {
						who = FROM
						value = -24
					}
				}
			}
			modifier = {
				factor = 1.5
				reverse_opinion = {
					who = FROM
					value = 25
				}
			}
			modifier = {
				factor = 5
				FROM = {
					trait = in_hiding
				}
			}
			modifier = {
				factor = 10
				FROM = {
					trait = paranoid
				}
			}
		}
	}
	take_child_out_of_hiding = {
		only_rulers = yes
		is_high_prio = yes
		filter = dynasty
		ai_target_filter = dynasty
		from_potential = {
			is_ruler = yes
			has_regent = no
			has_children = yes
		}
		potential = {
			trait = in_hiding
			is_ruler = no
			liege = {
				character = FROM
			}
			is_child_of = FROM
			prisoner = no
			NOT = {
				any_spouse = {
					character = FROM
				}
			}
		}
		allow = {
			trait = in_hiding
		}
		effect = {
			log = "work decision take_child_out_of_hiding for [Root.GetBestName]"
			custom_tooltip = {
				text = come_out_of_hiding_info_tooltip
			}
			remove_trait = in_hiding
			clr_character_flag = do_not_disturb
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			hidden_tooltip = {
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = {
								character = FROM
							}
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6005
						}
					}
				}
				father = {
					if = {
						limit = {
							NOT = {
								character = FROM
							}
						}
						character_event = {
							id = CM.6005
						}
					}
				}
				mother = {
					if = {
						limit = {
							NOT = {
								character = FROM
							}
						}
						character_event = {
							id = CM.6005
						}
					}
				}
				any_sibling = {
					limit = {
						ROOT = {
							NOT = {
								is_plot_target_of = THIS
							}
						}
					}
					character_event = {
						id = CM.6005
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				FROM = {
					trait = paranoid
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_character_modifier = suspected_murder_plot
					FROM = {
						any_known_plotter = {
							target = PREV
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
					}
				}
			}
		}
	}
	send_spouse_into_hiding = {
		only_rulers = yes
		is_high_prio = yes
		filter = spouse
		ai_target_filter = spouse
		from_potential = {
			is_ruler = yes
			has_regent = no
			OR = {
				ai = no
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
		}
		potential = {
			NOT = {
				is_inaccessible_trigger = yes
			}
			is_ruler = no
			is_married = FROM
			liege = {
				character = FROM
			}
			NAND = {
				is_plot_target_of = FROM
				FROM = {
					OR = {
						has_plot = plot_kill_character
						has_plot = plot_kill_spouse
					}
				}
			}
			NOT = {
				has_character_modifier = went_out_of_hiding_timer
			}
		}
		allow = {
			in_command = no
			prisoner = no
			custom_tooltip = {
				text = is_not_busy_trigger_tooltip
				hidden_tooltip = {
					NOT = {
						has_character_flag = do_not_disturb
					}
				}
			}
			has_job_title = no
			NOT = {
				is_ruler = yes
			}
			custom_tooltip = {
				text = is_target_of_murder_plot_tooltip
				hidden_tooltip = {
					OR = {
						has_character_modifier = suspected_murder_plot
						FROM = {
							any_known_plotter = {
								target = PREV
								OR = {
									has_plot = plot_kill_character
									has_plot = plot_kill_spouse
								}
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = recently_went_out_of_hiding_tooltip
				hidden_tooltip = {
					NOT = {
						has_character_modifier = went_out_of_hiding_timer
					}
				}
			}
		}
		effect = {
			log = "work decision send_spouse_into_hiding for [Root.GetBestName]"
			set_character_flag = do_not_disturb
			custom_tooltip = {
				text = go_into_hiding_info_tooltip
			}
			add_trait = in_hiding
			hidden_tooltip = {
				# Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = {
								has_character_flag = murder_in_motion
							}
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6002
						}
						any_backed_character = {
							character_event = {
								id = CM.6002
							}
						}
					}
					any_plotter = {
						target = ROOT
						limit = {
							has_character_flag = murder_in_motion
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6180
						}
						any_backed_character = {
							character_event = {
								id = CM.6002
							}
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0.1
				spouse = {
					age = 65
				}
			}
			modifier = {
				factor = 0.1
				spouse = {
					trait = pregnant
					NOT = {
						father_of_unborn = {
							character = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					FROM = {
						trait = in_hiding
					}
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					opinion = {
						who = spouse
						value = -24
					}
				}
			}
			modifier = {
				factor = 1.5
				opinion = {
					who = spouse
					value = 25
				}
			}
			modifier = {
				factor = 5
				trait = in_hiding
			}
			modifier = {
				factor = 10
				trait = paranoid
			}
			modifier = {
				factor = 10
				spouse = {
					trait = pregnant
					father_of_unborn = {
						character = ROOT
					}
				}
			}
		}
	}
	take_spouse_out_of_hiding = {
		only_rulers = yes
		is_high_prio = yes
		filter = spouse
		ai_target_filter = spouse
		from_potential = {
			is_ruler = yes
			has_regent = no
		}
		potential = {
			trait = in_hiding
			is_ruler = no
			is_married = FROM
			liege = {
				character = FROM
			}
			prisoner = no
		}
		allow = {
			trait = in_hiding
		}
		effect = {
			log = "work decision take_spouse_out_of_hiding for [Root.GetBestName]"
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			clr_character_flag = do_not_disturb
			custom_tooltip = {
				text = come_out_of_hiding_info_tooltip
			}
			remove_trait = in_hiding
			hidden_tooltip = {
				# Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							spouse = {
								NOT = {
									character = PREV
								}
							}
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = {
							id = CM.6003
						}
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				trait = paranoid
			}
			modifier = {
				factor = 0
				spouse = {
					OR = {
						has_character_modifier = suspected_murder_plot
						FROM = {
							any_known_plotter = {
								target = PREV
								OR = {
									has_plot = plot_kill_character
									has_plot = plot_kill_spouse
								}
							}
						}
					}
				}
			}
		}
	}

	ask_for_land = {	#Ambitions. Written by Markus Olsn

		only_playable = yes
		is_high_prio = yes
		filter = liege
		ai_target_filter = liege
		from_potential = {
			is_playable = yes
			has_ambition = obj_land_for_son
			higher_tier_than = BARON
		}
		allow = {
			FROM = {
				NOR = {
					prisoner = yes
					in_revolt = yes
					trait = incapable
					is_inaccessible_trigger = yes
					liege = {
						OR = {
							has_regent = yes
							in_revolt = yes
							has_opinion_modifier = {
								who = PREV modifier = requested_land
							}
						}
					}
				}
				any_child = {
					is_heir = no
					is_female = no
					is_landed = no
					is_adult = yes
					prisoner = no
					NOR = {
						trait = incapable
						is_ascetic_trigger = yes
						trait = eunuch
					}
					liege = {
						character = PREVPREV
					}
				}
			}
			any_demesne_title = {
				tier = COUNT
				can_be_given_away = yes
				NOT = {
					location = {
						is_capital = yes
					}
				}
			}
		}
		effect = {
			log = "work decision ask_for_land for [Root.GetBestName]"
			FROM = {
				prestige = -20
			}
			custom_tooltip = {
				text = ask_for_land_tooltip
				hidden_tooltip = {
					opinion = {
						modifier = requested_land
						who = FROM
						years = 2
					}
					character_event = {
						id = ZE.6012 days = 3
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 2
				FROM = {
					trait = proud
				}
			}
			modifier = {
				factor = 2
				FROM = {
					trait = stubborn
				}
			}
			modifier = {
				factor = 2
				FROM = {
					trait = greedy
				}
			}
			modifier = {
				factor = 2
				FROM = {
					trait = ambitious
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = content
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = shy
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = craven
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = humble
				}
			}
		}
	}
	ask_for_pardon = {
		only_playable = yes
		filter = liege
		ai_target_filter = liege
		from_potential = {
			has_dlc = "Zeus"
			is_playable = yes
			NOT = {
				trait = incapable
			}
		}
		potential = {
			NOT = {
				trait = incapable
			}
			owes_favor_to = FROM
		}
		allow = {
			ROOT = {
				OR = {
					has_opinion_modifier = {
						who = FROM modifier = declared_war
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_dishonorable
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_traitor
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_rebel_traitor
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_regicide_traitor
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_killed_close_kin
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_refused_abdicate_title
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_fatwa_target
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_refused_order
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_witch
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_takfir
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_unfaithful_wife
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_cuckolded
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_charge_heresiarch
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_charge_infidel
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_charge_deviant
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_charge_illegitimate
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_charge_traitor
					}
					has_opinion_modifier = {
						who = FROM modifier = opinion_charge_slanderer
					}
					has_opinion_modifier = {
						who = FROM modifier = abuse_of_office
					}
				}
			}
		}
		effect = {
			log = "work decision ask_for_pardon for [Root.GetBestName]"
			hidden_tooltip = {
				FROM = {
					save_event_target_as = pardon_target
				}
				character_event = {
					id = ZE.8120
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1000
		}
	}
	ask_to_leave_court = {
		filter = court
		ai_target_filter = court
		from_potential = {
			ai = no
			has_dlc = "Reapers"
		}
		potential = {
			liege = {
				character = FROM
			}
			can_be_asked_to_leave_court_trigger = yes
			NOT = {
				any_spouse = {
					liege = {
						character = FROM
					}
					can_be_asked_to_leave_court_trigger = no
				}
			}
		}
		allow = {
			NOT = {
				trait = incapable
			}
			prisoner = no
			NOT = {
				any_spouse = {
					liege = {
						character = FROM
					}
					OR = {
						trait = incapable
						prisoner = yes
					}
				}
			}
		}
		effect = {
			log = "work decision ask_to_leave_court for [Root.GetBestName]"
			FROM = {
				prestige = -5
			}
			opinion = {
				modifier = opinion_disappointed
				who = FROM
				years = 10
			}
			any_spouse = {
				limit = {
					liege = {
						character = FROM
					}
				}
				opinion = {
					modifier = opinion_disappointed
					who = FROM
					years = 10
				}
			}
			if = {
				# Move to a same-religion court
				limit = {
					any_playable_ruler = {
						#is_within_diplo_range = ROOT
						religion = ROOT
						their_opinion = {
							who = ROOT value = 10
						}
						NOT = {
							character = FROM
						}
					}
				}
				any_playable_ruler = {
					limit = {
						#is_within_diplo_range = ROOT
						religion = ROOT
						their_opinion = {
							who = ROOT value = 10
						}
						NOT = {
							character = FROM
						}
					}
					save_event_target_as = new_court
				}
				move_character = event_target:new_court
				any_spouse = {
					limit = {
						liege = {
							character = FROM
						}
					}
					move_character = event_target:new_court
				}
				break = yes
			}
			if = {
				# Move to any court where the character likes me
				limit = {
					any_playable_ruler = {
						#is_within_diplo_range = ROOT
						their_opinion = {
							who = ROOT value = 10
						}
						NOT = {
							character = FROM
						}
					}
				}
				any_playable_ruler = {
					limit = {
						#is_within_diplo_range = ROOT
						their_opinion = {
							who = ROOT value = 10
						}
						NOT = {
							character = FROM
						}
					}
					save_event_target_as = new_court_secondary
				}
				move_character = event_target:new_court_secondary
				any_spouse = {
					limit = {
						liege = {
							character = FROM
						}
					}
					move_character = event_target:new_court
				}
				break = yes
			}
			if = {
				# Go anywhere but here
				limit = {
					any_playable_ruler = {
						NOT = {
							character = FROM
						}
					}
				}
				any_playable_ruler = {
					limit = {
						NOT = {
							character = FROM
						}
					}
					save_event_target_as = new_court_backup
				}
				move_character = event_target:new_court_backup
				any_spouse = {
					limit = {
						liege = {
							character = FROM
						}
					}
					move_character = event_target:new_court
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}

	break_non_aggression_pact = {
		ai_target_filter = self
		from_potential = {
			ai = no
		}
		potential = {
			is_landed = yes
			has_non_aggression_pact_with = FROM
		}
		allow = {
			FROM = {
				prestige = 200
			}
			war = no
			FROM = {
				war = no
			}
		}
		effect = {
			log = "work decision break_non_aggression_pact for [Root.GetBestName]"
			opinion = {
				who = FROM
				modifier = broken_non_aggression_pact
			}
			FROM = {
				prestige = -200
				add_character_modifier = {
					name = broken_non_aggression_pact_char_modifier
					years = 10
				}
			}
			FROM = {
				set_truce = {
					who = ROOT
					years = 2
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	interfere_in_vassal_war_attacker = {	# The war is in FROMFROM

		filter = vassal_wars
		ai_target_filter = vassal_wars
		from_potential = {
			ai = no
			has_dlc = "Reapers"
		}
		potential = {
			FROMFROM = {
				attacker = {
					character = ROOT
				}
			}
			nor = {
				owes_favor_to = FROM
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_interfered_in_war
				}
			}
		}
		allow = {
			FROM = {
				prestige = 100
				NOT = {
					trait = incapable
				}
				prisoner = no
				in_seclusion = no
			}
		}
		effect = {
			log = "work decision interfere_in_vassal_war_attacker for [Root.GetBestName]"
			FROM = {
				prestige = -100
			}
			FROMFROM = {
				defender = {
					save_event_target_as = target_defender
				}
			}
			character_event = {
				id = RIP.30000 days = 3
			}
			hidden_tooltip = {
				opinion = {
					who = FROM
					modifier = opinion_interfered_in_war
					years = 5
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	interfere_in_vassal_war_attacker_use_favor = {	# The war is in FROMFROM

		filter = vassal_wars
		ai_target_filter = vassal_wars
		from_potential = {
			ai = no
			has_dlc = "Reapers"
			has_dlc = "Conclave"
		}
		potential = {
			FROMFROM = {
				attacker = {
					character = ROOT
				}
			}
			owes_favor_to = FROM
		}
		allow = {
			FROM = {
				NOT = {
					trait = incapable
				}
				prisoner = no
				in_seclusion = no
			}
		}
		effect = {
			log = "work decision interfere_in_vassal_war_attacker_use_favor for [Root.GetBestName]"
			FROMFROM = {
				defender = {
					save_event_target_as = target_defender
				}
			}
			reverse_remove_favor = FROM
			character_event = {
				id = RIP.30010 days = 3
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	interfere_in_vassal_war_defender = {	# The war is in FROMFROM

		filter = vassal_wars
		ai_target_filter = vassal_wars
		from_potential = {
			ai = no
			has_dlc = "Reapers"
		}
		potential = {
			FROMFROM = {
				defender = {
					character = ROOT
				}
			}
			nor = {
				owes_favor_to = FROM
				has_opinion_modifier = {
					who = FROM
					modifier = opinion_interfered_in_war
				}
			}
		}
		allow = {
			FROM = {
				prestige = 200
				NOT = {
					trait = incapable
				}
				prisoner = no
				in_seclusion = no
			}
		}
		effect = {
			log = "work decision interfere_in_vassal_war_defender for [Root.GetBestName]"
			FROM = {
				prestige = -200
			}
			FROMFROM = {
				attacker = {
					save_event_target_as = target_attacker
				}
			}
			character_event = {
				id = RIP.30020 days = 3
			}
			hidden_tooltip = {
				opinion = {
					who = FROM
					modifier = opinion_interfered_in_war
					years = 5
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	interfere_in_vassal_war_defender_use_favor = {	# The war is in FROMFROM

		filter = vassal_wars
		ai_target_filter = vassal_wars
		from_potential = {
			ai = no
			has_dlc = "Reapers"
			has_dlc = "Conclave"
		}
		potential = {
			FROMFROM = {
				defender = {
					character = ROOT
				}
			}
			owes_favor_to = FROM
		}
		allow = {
			FROM = {
				NOT = {
					trait = incapable
				}
				prisoner = no
				in_seclusion = no
			}
		}
		effect = {
			log = "work decision interfere_in_vassal_war_defender_use_favor for [Root.GetBestName]"
			FROMFROM = {
				attacker = {
					save_event_target_as = target_attacker
				}
			}
			reverse_remove_favor = FROM
			character_event = {
				id = RIP.30030 days = 3
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}

	change_council_job = {
		only_rulers = yes
		filter = realm
		ai_target_filter = self
		from_potential = {
			has_dlc = "Zeus"
			is_ruler = yes
		}
		potential = {
			change_council_job_potential_trigger = yes
		}
		allow = {
			NOT = {
				has_character_modifier = in_seclusion
			}
		}
		effect = {
			log = "work decision change_council_job for [Root.GetBestName]"
			hidden_tooltip = {
				character_event = {
					id = ZE.6020
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	search_for_artifact = {
		only_playable = yes
		ai_target_filter = court
		from_potential = {
			is_ruler = yes
			prisoner = no
			is_inaccessible_trigger = no
			OR = {
				has_character_modifier = relic_rumor_major
				has_character_modifier = relic_rumor_medium
				has_character_modifier = relic_rumor_minor
			}
			OR = {
				ai = no
				NOT = {
					any_courtier_or_vassal = {
						has_character_flag = relic_hunter
					}
				}
			}
		}
		potential = {
			is_councillor = yes
			liege = {
				character = FROM
			}
			NOT = {
				trait = incapable
			}
			prisoner = no
			is_inaccessible_trigger = no
			NOT = {
				has_character_flag = relic_hunter
			}
		}
		allow = {
			custom_tooltip = {
				text = search_for_artifact_allow_tt
				is_councillor = yes
				liege = {
					character = FROM
				}
			}
		}
		effect = {
			log = "work decision search_for_artifact for [Root.GetBestName]"
			if = {
				limit = {
					FROM = {
						any_courtier_or_vassal = {
							has_character_flag = relic_hunter
						}
					}
				}
				custom_tooltip = {
					text = search_for_artifact_effect_replace_tt
					FROM = {
						random_courtier_or_vassal = {
							limit = {
								has_character_flag = relic_hunter
							}
							clr_character_flag = relic_hunter
						}
					}
				}
			}
			custom_tooltip = {
				text = search_for_artifact_effect_tt
				set_character_flag = relic_hunter
				save_event_target_as = relic_hunter
				FROM = {
					save_event_target_as = relic_ruler
				}
				character_event = {
					id = ART.7 days = 30
				}
			}
			if = {
				limit = {
					FROM = {
						check_variable = {
							which = relic_score value = 1
						}
					}
				}
				custom_tooltip = {
					text = search_for_artifact_effect_progress_tt
					hidden_effect = {
						FROM = {
							multiply_variable = {
								which = relic_score value = 0.75
							}
						}
					}
				}
			}
			FROM = {
				add_artifact_search_payment_effect = yes
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.001
			modifier = {
				OR = {
					diplomacy = 14
					martial = 14
					stewardship = 14
					intrigue = 14
					learning = 14
				}
				factor = 10
			}
			modifier = {
				OR = {
					is_friend = FROM
					reverse_opinion = {
						who = FROM value = 30
					}
				}
				factor = 10
			}
			modifier = {
				FROM = {
					NOT = {
						wealth = 50
					}
				}
				factor = 0
			}
			modifier = {
				ai = no
				factor = 0
			}
		}
	}
	stop_artifact_search = {
		only_playable = yes
		ai_target_filter = court
		from_potential = {
			is_ruler = yes
			has_council = yes
			prisoner = no
			OR = {
				has_character_modifier = relic_rumor_major
				has_character_modifier = relic_rumor_medium
				has_character_modifier = relic_rumor_minor
			}
			is_inaccessible_trigger = no
			OR = {
				#todo is paying for search
			}
		}
		potential = {
			has_character_flag = relic_hunter
		}
		effect = {
			log = "work decision stop_artifact_search for [Root.GetBestName]"
			custom_tooltip = {
				text = stop_artifact_search_effect_tt
				clr_artifact_searcher_effect = yes
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 0
				wealth = -100
			}
			modifier = {
				factor = 0
				check_variable = {
					which = relic_score value = -2
				}
			}
		}
	}
	steal_artifact = {
		only_playable = yes
		is_high_prio = yes
		filter = court
		ai_target_filter = court
		from_potential = {
			OR = {
				ai = no
				trait = cruel
				trait = impaler
				trait = greedy
				is_vampire_trigger = yes
			}
		}
		potential = {
			prisoner = yes
			any_artifact = {
				nor = {
					has_artifact_flag = mount
					# has_artifact_flag = carstein_ring
				}
			}
		}
		allow = {
			prisoner = yes
		}
		effect = {
			log = "work decision steal_artifact for [Root.GetBestName]"
			FROM = {
				character_event = {
					id = ART.998
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	request_council_position = { 	#Ambitions. Written by Markus Olsn

		only_playable = yes
		is_high_prio = yes
		filter = liege
		ai_target_filter = liege
		from_potential = {
			has_ambition = obj_become_council_member
		}
		allow = {
			FROM = {
				prisoner = no
				prestige = 100
				NOR = {
					in_revolt = yes
					trait = incapable
					is_inaccessible_trigger = yes
					liege = {
						OR = {
							in_revolt = yes
							has_opinion_modifier = {
								who = PREV modifier = requested_council_position
							}
						}
					}
				}
			}
		}
		effect = {
			log = "work decision request_council_position for [Root.GetBestName]"
			FROM = {
				prestige = -50
			}
			custom_tooltip = {
				text = request_council_position_tooltip
				hidden_tooltip = {
					opinion = {
						modifier = requested_council_position
						who = FROM
						years = 2
					}
					character_event = {
						id = ZE.6001 days = 3
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	exchange_land_for_hospital = {
		filter = all
		ai_target_filter = all
		from_potential = {
			has_dlc = "Reapers"
			ai = no
			#capital has space and no hospital
			capital_scope = {
				num_of_empty_holdings = 1
				NOT = {
					hospital_level = 1
				}
			}
			NOR = {
				is_nomadic = yes
				is_tribal = yes
			}
		}
		potential = {
			is_adult = yes
			#owns holy order, this religion
			primary_title = {
				holy_order = yes
			}
			religion = FROM
		}
		allow = {
			FROM = {
				piety = 300
				capital_scope = {
					any_province_holding = {
						is_occupied = no
					}
				}
			}
		}
		effect = {
			log = "work decision exchange_land_for_hospital for [Root.GetBestName]"
			#lose piety, holy order builds castle and hospital
			FROM = {
				piety = -300
				capital_scope = {
					build_holding = {
						type = castle
						holder = ROOT
					}
					build_holding = {
						type = hospital
						holder = FROM
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	release_tributary = {
		ai_target_filter = self
		from_potential = {
			ai = no
		}
		potential = {
			is_tributary = yes
			suzerain = {
				character = FROM
			}
		}
		allow = {
			war = no
			FROM = {
				war = no
			}
		}
		effect = {
			log = "work decision release_tributary for [Root.GetBestName]"
			remove_tributary = FROM
			prestige = -200
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	ask_wards_liege_to_allow_culture_religion_swap = {
		only_playable = yes
		filter = sub_realm
		ai_target_filter = court
		from_potential = {
			is_playable = yes
			has_dlc = "Zeus"
		}
		potential = {
			prisoner = no
			is_adult = no
			is_landed = no
			NOR = {
				has_character_flag = guardian_asked_to_change_focus
				has_focus = focus_ch_heritage
				character = FROM
			}
			host = {
				OR = {
					character = FROM
					is_liege_or_above = FROM
				}
			}
			NOT = {
				liege = {
					character = FROM
				}
			}
			NOT = {
				educator = {
					culture = ROOT
					religion = ROOT
				}
			}
		}
		allow = {
			NOT = {
				age = 10
			}
		}
		effect = {
			log = "work decision ask_wards_liege_to_allow_culture_religion_swap for [Root.GetBestName]"
			set_character_flag = guardian_asked_to_change_focus
			if = {
				limit = {
					liege = {
						character = FROM
					}
				}
				hidden_tooltip = {
					clear_focus = yes
				}
				set_focus = focus_ch_heritage
				break = yes
			}
			hidden_tooltip = {
				liege = {
					letter_event = {
						id = ZE.2130 days = 5
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					host = {
						character = FROM
					}
				}
			}
			modifier = {
				factor = 0
				NOT = {
					educator = {
						culture = FROM
						religion = FROM
					}
				}
			}
			modifier = {
				factor = 0.05
			}
		}
	}

	demand_courtier_religious_conversion = {
		only_playable = yes
		ai_target_filter = home_court
		potential = {
			NOR = {
				religion = FROM
				has_character_flag = ai_flag_refuse_conversion
			}
			vassal_of = FROM
			is_ruler = no
		}
		allow = {
			ai = yes
			FROM = {
				war = no
			}
			NOR = {
				trait = witch_hunter
				religion_group = horned_rat_god_group
				religion_group = necromantic_group
				religion_group = chaos_gods_group
				religion_group = greenskin_gods_group
				religion = cult_of_pleasure
			}
			opinion = {
				who = FROM
				value = 50
			}
			NOT = {
				controls_religion = yes
			}
		}
		effect = {
			log = "work decision demand_courtier_religious_conversion for [Root.GetBestName]"
			# Fire any event that would normally be fired by the on_action on_vassal_accepts_religious_conversion
			hidden_tooltip = {
				FROM = {
					character_event = {
						id = aicleanup.008
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
		}
	}
	demand_vassal_religious_conversion = {
		ai_target_filter = vassals
		from_potential = {
			is_ruler = yes
			is_incapacitated_trigger = no
		}
		potential = {
			nor = {
				religion = FROM
				has_character_flag = ai_flag_refuse_conversion
			}
			vassal_of = FROM
			is_ruler = yes
		}
		allow = {
			ai = yes
			FROM = {
				war = no
			}
			nor = {
				trait = witch_hunter
				religion_group = horned_rat_god_group
				religion_group = necromantic_group
				religion_group = chaos_gods_group
			}
			opinion = {
				who = FROM value = 50
			}
			OR = {
				NOT = {
					religion_group = greenskin_gods_group
				}
				FROM = {
					religion_group = greenskin_gods_group
				}
			}
			OR = {
				NOT = {
					religion = cult_of_pleasure
				}
				FROM = {
					NOT = {
						religion_group = cadai_group
					}
				}
			}
			OR = {
				NOT = {
					religion = atharti
				}
				FROM = {
					NOT = {
						religion_group = cytharai_group
					}
				}
			}
			OR = {
				#Illathids further restrictions for A
				religion_group = FROM #can only convert courtiers in your own group
				OR = {
					#elves are only race with a split religion group, this allow conversion between cadai and cytharai groups
					AND = {
						religion_group = cadai_group
						FROM = {
							religion_group = cytharai_group
						}
					}
					AND = {
						FROM = {
							religion_group = cadai_group
						}
						religion_group = cytharai_group
					}
				}
			}
			NOT = {
				controls_religion = yes
			}
		}
		effect = {
			log = "work decision demand_vassal_religious_conversion for [Root.GetBestName]"
			# Fire any event that would normally be fired by the on_action on_vassal_accepts_religious_conversion
			hidden_tooltip = {
				FROM = {
					character_event = {
						id = aicleanup.008
					}
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
		}
	}
	demand_gavelkind = {
		filter = vassals
		ai_target_filter = vassals
		from_potential = {
			ai = no
			has_dlc = "Reapers"
			is_feudal = yes
			is_vice_royalty = no
			prisoner = no
			NOT = {
				trait = incapable
			}
		}
		potential = {
			is_playable = yes
			liege = {
				character = FROM
			}
			NOT = {
				character = FROM
			}
			is_law_potential = succ_gavelkind
			nor = {
				has_law = succ_gavelkind
				owes_favor_to = FROM
				has_opinion_modifier = {
					who = FROM name = opinion_demanded_succ_law_change
				}
			}
			is_feudal = yes
			mercenary = no
			holy_order = no
			is_vice_royalty = no
			prisoner = no
			NOT = {
				trait = incapable
			}
		}
		allow = {
			FROM = {
				prestige = 100
				NOT = {
					trait = incapable
				}
				prisoner = no
				in_seclusion = no
			}
		}
		effect = {
			log = "work decision demand_gavelkind for [Root.GetBestName]"
			prestige = -100
			character_event = {
				id = RIP.30040 days = 3
			}
			hidden_tooltip = {
				opinion = {
					who = FROM
					modifier = opinion_demanded_succ_law_change
					years = 5
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	demand_gavelkind_use_favor = {
		filter = vassals
		ai_target_filter = vassals
		from_potential = {
			ai = no
			has_dlc = "Reapers"
			has_dlc = "Conclave"
			is_feudal = yes
			is_vice_royalty = no
			prisoner = no
			NOT = {
				trait = incapable
			}
		}
		potential = {
			is_playable = yes
			liege = {
				character = FROM
			}
			NOT = {
				character = FROM
			}
			is_law_potential = succ_gavelkind
			NOT = {
				has_law = succ_gavelkind
			}
			owes_favor_to = FROM
			NOT = {
				has_opinion_modifier = {
					who = FROM name = opinion_demanded_succ_law_change
				}
			}
			is_feudal = yes
			mercenary = no
			holy_order = no
			is_vice_royalty = no
			prisoner = no
			NOT = {
				trait = incapable
			}
		}
		allow = {
			FROM = {
				prestige = 100
				NOT = {
					trait = incapable
				}
				prisoner = no
				in_seclusion = no
			}
		}
		effect = {
			log = "work decision demand_gavelkind_use_favor for [Root.GetBestName]"
			prestige = -100
			character_event = {
				id = RIP.30050 days = 3
			}
			hidden_tooltip = {
				opinion = {
					who = FROM
					modifier = opinion_demanded_succ_law_change
					years = 5
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}

	#Nomadic
	adopt_faith = {
		only_playable = yes
		ai_target_filter = realm
		filter = realm
		from_potential = {
			is_playable = yes
			has_dlc = "Horse Lords"
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
			is_nomadic = yes
			trait = creature_human
			nor = {
				religion_group = necromantic_group
				religion_group = chaos_gods_group
			}
		}
		potential = {
			is_nomadic = yes
			is_playable = yes
			trait = creature_human
			nor = {
				religion_group = necromantic_group
				religion_group = chaos_gods_group
				religion = FROM
			}
			same_realm = FROM
		}
		allow = {
			FROM = {
				custom_tooltip = {
					text = IS_NOT_INCAPACITATED
					is_incapacitated_trigger = no
				}
				piety = 50
				custom_tooltip = {
					text = recently_adopted_faith_tooltip
					hidden_tooltip = {
						NOT = {
							has_character_modifier = adopted_faith_timer
						}
					}
				}
			}
		}
		effect = {
			log = "work decision adopt_faith for [Root.GetBestName]"
			FROM = {
				religion = ROOT
				piety = -50
				add_character_modifier = {
					name = adopted_faith_timer
					duration = 3650
					hidden = yes
				}
				any_vassal = {
					limit = {
						ai = yes
						is_close_relative = FROM
						dynasty = FROM
						OR = {
							is_adult = no
							NOT = {
								trait = zealous
							}
						}
						NOT = {
							trait = incapable
						}
					}
					religion = ROOT
				}
				any_courtier = {
					limit = {
						is_close_relative = FROM
						OR = {
							is_adult = no
							NOT = {
								trait = zealous
							}
						}
						NOT = {
							trait = incapable
						}
					}
					religion = ROOT
				}
				hidden_tooltip = {
					top_liege = {
						if = {
							limit = {
								religion = ROOT
								NOT = {
									character = FROM
								}
							}
							character_event = {
								id = HL.11
							}
						}
						if = {
							limit = {
								nor = {
									religion = ROOT
									character = FROM
								}
							}
							character_event = {
								id = HL.9
							}
						}
						any_realm_character = {
							limit = {
								is_nomadic = yes
							}
							if = {
								limit = {
									religion = ROOT
									NOT = {
										character = FROM
									}
								}
								character_event = {
									id = HL.11
								}
							}
							if = {
								limit = {
									nor = {
										religion = ROOT
										character = FROM
									}
								}
								character_event = {
									id = HL.9
								}
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0
				FROM = {
					has_feud_with = ROOT
				}
			}
			modifier = {
				factor = 0
				NOT = {
					reverse_opinion = {
						who = FROM
						value = 25
					}
				}
			}
			modifier = {
				factor = 0
				NOT = {
					reverse_clan_opinion = {
						who = FROM
						value = 25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = zealous
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOR = {
						religion_group = old_gods_group
						religion_group = chaos_gods_group
					}
				}
				ROOT = {
					OR = {
						religion_group = old_gods_group
						religion_group = chaos_gods_group
					}
					is_reformed_religion = no
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					OR = {
						religion_group = old_gods_group
						religion_group = chaos_gods_group
					}
					is_reformed_religion = no
				}
				NOR = {
					religion_group = old_gods_group
					religion_group = chaos_gods_group
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					relative_power = {
						who = FROM
						power = 0.5
					}
				}
			}
			modifier = {
				factor = 2.0
				FROM = {
					de_facto_liege = ROOT
				}
			}
			modifier = {
				factor = 2.0
				FROM = {
					has_blood_oath_with = ROOT
				}
			}
			modifier = {
				factor = 1.5
				reverse_opinion = {
					who = FROM
					value = 50
				}
			}
			modifier = {
				factor = 1.5
				reverse_opinion = {
					who = FROM
					value = 75
				}
			}
			modifier = {
				factor = 1.5
				reverse_clan_opinion = {
					who = FROM
					value = 50
				}
			}
			modifier = {
				factor = 1.5
				reverse_clan_opinion = {
					who = FROM
					value = 75
				}
			}
			modifier = {
				factor = 1.5
				prestige = 200
			}
			modifier = {
				factor = 0.5
				NOT = {
					prestige = 100
				}
			}
			modifier = {
				factor = 1.5
				relative_power = {
					who = FROM
					power = 1.5
				}
			}
		}
	}
	declare_feud = {
		only_playable = yes
		ai_target_filter = realm
		filter = realm
		from_potential = {
			has_dlc = "Horse Lords"
			clan = yes
			is_playable = yes
		}
		potential = {
			clan = yes
			is_playable = yes
			same_realm = FROM
			NOR = {
				has_feud_with = FROM
				character = FROM
			}
		}
		allow = {
			NOT = {
				has_blood_oath_with = FROM
			}
		}
		effect = {
			log = "work decision declare_feud for [Root.GetBestName]"
			clan_title = {
				FROM = {
					clan_title = {
						create_feud = PREVPREV
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3
			}
			modifier = {
				# Try not having more feuds than one (others can still add you to a feud however
				factor = 0
				FROM = {
					OR = {
						AND = {
							NOT = {
								is_rival = ROOT
							}
							num_of_feuds = 1
						}
						AND = {
							is_rival = ROOT
							num_of_feuds = 3
						}
					}
				}
			}
			modifier = {
				factor = 0
				reverse_opinion = {
					who = FROM
					value = 0
				}
			}
			modifier = {
				factor = 0
				NOT = {
					is_rival = FROM
				}
				reverse_clan_opinion = {
					who = FROM
					value = -50
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					reverse_opinion = {
						who = FROM
						value = -50
					}
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					reverse_opinion = {
						who = FROM
						value = -75
					}
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					reverse_clan_opinion = {
						who = FROM
						value = -75
					}
				}
			}
			modifier = {
				factor = 1.5
				NOT = {
					reverse_clan_opinion = {
						who = FROM
						value = -100
					}
				}
			}
			modifier = {
				factor = 0.5
				relative_power = {
					who = FROM
					power = 1.5
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					relative_power = {
						who = FROM
						power = 0.5
					}
				}
			}
			modifier = {
				factor = 1.2
				FROM = {
					de_facto_liege = ROOT
					ai_ambition = 0
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					de_facto_liege = ROOT
					ai_honor = 0
				}
			}
			modifier = {
				factor = 1.2
				FROM = {
					de_facto_liege = ROOT
				}
				ROOT = {
					strongest_clan_vassal = {
						character = FROM
					}
				}
			}
		}
	}
	create_mercenary_company = {
		only_playable = yes
		filter = home_court
		ai_target_filter = home_court
		from_potential = {
			is_playable = yes
			has_dlc = "Horse Lords"
			is_adult = yes
			prisoner = no
			NOT = {
				trait = incapable
			}
			OR = {
				government = nomadic_government
				has_character_modifier = mercenary_traditions
			}
		}
		potential = {
			is_female = no
			mercenary = no
			dynasty = FROM
			OR = {
				father_even_if_dead = {
					character = FROM
				}
				any_sibling = {
					character = FROM
				}
			}
		}
		allow = {
			is_adult = yes
			is_ruler = no
			prisoner = no
			custom_tooltip = {
				text = inaccessible_tooltip
				hidden_tooltip = {
					NOT = {
						is_inaccessible_trigger = yes
					}
				}
			}
			NOT = {
				trait = incapable
			}
			dynasty = FROM
			liege = {
				character = FROM
			}
			FROM = {
				OR = {
					AND = {
						government = nomadic_government
						unused_manpower = 500
						max_manpower = 500
					}
					AND = {
						NOT = {
							government = nomadic_government
						}
						demesne_garrison_size = 500
					}
				}
			}
			OR = {
				FROM = {
					government = nomadic_government
				}
				has_character_modifier = mercenary_traditions
			}
		}
		effect = {
			log = "work decision create_mercenary_company for [Root.GetBestName]"
			FROM = {
				if = {
					limit = {
						is_nomadic = yes
					}
					clan_title = {
						create_title = {
							tier = DUKE
							name = DYNAMIC_MERCENARY_COMPANY
							landless = yes
							temporary = yes
							adventurer = yes
							custom_created = yes
							culture = ROOT
							holder = ROOT
							base_title = THIS
							mercenary = yes
							ruler = "CAPTAIN"
							ruler_female = "CAPTAIN"
							foa = "CAPTAIN_FOA"
						}
					}
				}
				if = {
					limit = {
						is_nomadic = no
					}
					primary_title = {
						create_title = {
							tier = DUKE
							name = DYNAMIC_MERCENARY_COMPANY
							landless = yes
							temporary = yes
							adventurer = yes
							custom_created = yes
							culture = ROOT
							holder = ROOT
							base_title = THIS
							mercenary = yes
							ruler = "CAPTAIN"
							ruler_female = "CAPTAIN"
							foa = "CAPTAIN_FOA"
						}
					}
				}
				ROOT = {
					set_defacto_liege = THIS
				}
			}
			set_character_flag = is_mercenary_leader
			add_trait = adventurer
			add_character_modifier = {
				modifier = started_mercenary_company months = 30
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0
				OR = {
					any_mercenary_band = {
						count = 3
						band_creator = {
							character = FROM
						}
					}
					FROM = {
						is_primary_war_attacker = yes
						is_primary_war_defender = yes
					}
				}
			}
			modifier = {
				factor = 0.5
				any_mercenary_band = {
					count = 1
					band_creator = {
						character = FROM
					}
				}
			}
			modifier = {
				factor = 0.5
				any_mercenary_band = {
					count = 2
					band_creator = {
						character = FROM
					}
				}
			}
			modifier = {
				factor = 2
				martial = 10
			}
			modifier = {
				factor = 3
				martial = 14
			}
			modifier = {
				factor = 4
				martial = 18
			}
			modifier = {
				factor = 2
				prestige = 100
			}
			modifier = {
				factor = 3
				prestige = 400
			}
			modifier = {
				factor = 4
				prestige = 1000
			}
			modifier = {
				factor = 2
				trait = misguided_warrior
			}
			modifier = {
				factor = 2
				trait = tough_soldier
			}
			modifier = {
				factor = 2
				trait = skilled_tactician
			}
			modifier = {
				factor = 2
				trait = brilliant_strategist
			}
		}
	}
	dissolve_mercenary_company = {
		only_playable = yes
		filter = dynasty
		ai_target_filter = dynasty
		from_potential = {
			is_playable = yes
			is_landed = yes
			has_dlc = "Horse Lords"
			NOT = {
				trait = vampire_blood_visible
			}
			OR = {
				government = nomadic_government
				has_character_modifier = mercenary_traditions
			}
		}
		potential = {
			mercenary = yes
			NOT = {
				government = congregation_government
			}
			primary_title = {
				NOT = {
					has_title_flag = ze_dyn_merc
				}
				band_creator = {
					character = FROM
				}
			}
		}
		allow = {
			OR = {
				custom_tooltip = {
					text = is_mercenary_leader_YEAR
					had_character_flag = {
						flag = is_mercenary_leader days = 1825
					}
				}
				prisoner = yes
			}
			primary_title = {
				NOT = {
					has_raised_standing_troops = yes
				}
				band_creator = {
					character = FROM
				}
			}
		}
		effect = {
			log = "work decision dissolve_mercenary_company for [Root.GetBestName]"
			primary_title = {
				activate_title = {
					title = THIS status = no
				}
				destroy_landed_title = THIS
			}
			move_character = FROM
			clr_character_flag = is_mercenary_leader
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
			}
			modifier = {
				factor = 0.5
				health = 7
			}
			modifier = {
				factor = 2
				NOT = {
					health = 5
				}
			}
			modifier = {
				factor = 4
				NOT = {
					health = 4
				}
			}
			modifier = {
				factor = 10
				NOT = {
					health = 3
				}
			}
			modifier = {
				factor = 2
				age = 30
			}
			modifier = {
				factor = 3
				age = 35
			}
			modifier = {
				factor = 4
				age = 40
			}
			modifier = {
				factor = 5
				age = 45
			}
			modifier = {
				factor = 2
				FROM = {
					age = 45
				}
			}
			modifier = {
				factor = 3
				FROM = {
					age = 55
				}
			}
			modifier = {
				factor = 4
				FROM = {
					age = 65
				}
			}
		}
	}

}
#END